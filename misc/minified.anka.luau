local a={Toggle=true,FirstTab=nil,TabCount=0,ColorTable={},CurrentTab=nil,tick=tick(),Connections={},flags={},Windows={}}local b=cloneref or function(b)return b end;local function getservice(c)return b(game:GetService(c))end;local c=(syn and syn.request)or(http and http.request)or http_request or(fluxus and fluxus.request)or request;local d=(getgenv and getgenv())or shared or _G;local e=getservice"ReplicatedStorage"local f=getservice"UserInputService"local g=getservice"TweenService"local h=getservice"HttpService"local i=getservice"TextService"local j=getservice"RunService"getservice"Players"local k=f.TouchEnabled;d.Anka=d.Anka or{}d.Anka.flags=d.Anka.flags or{}d.Anka.Elements=d.Anka.Elements or{}d.Anka.ElementCounter=0;function a.GetTextBounds(l,m,n,o,p)local q=i:GetTextSize(m,o,n,p or Vector2.new(1920,1080))return q.X,q.Y end;local function requesturl(l,m)if j:IsStudio()then return nil end;if m==nil and not j:IsStudio()then local n=c{Url=l,Method="GET"}if n.StatusCode~=200 then return nil,n.StatusCode end;return n.Body end;local n="https://raw.githubusercontent.com/nfpw/Anka/main/Assests/"local o=c{Url=n..l,Method="GET"}if o.StatusCode~=200 then return nil,o.StatusCode end;return o.Body end;local function makedraggable(l,m)local n;local o;local p;local q;table.insert(a.Connections,l.InputBegan:Connect(function(r)if f:GetFocusedTextBox()==nil then if r.UserInputType==Enum.UserInputType.MouseButton1 or r.UserInputType==Enum.UserInputType.Touch then n=true;p=r.Position;q=m.Position;table.insert(a.Connections,r.Changed:Connect(function()if r.UserInputState==Enum.UserInputState.End then n=false end end))end end end))table.insert(a.Connections,l.InputChanged:Connect(function(r)if r.UserInputType==Enum.UserInputType.MouseMovement or r.UserInputType==Enum.UserInputType.Touch then o=r end end))table.insert(a.Connections,f.InputChanged:Connect(function(r)if r==o and n then local s=r.Position-p;m.Position=UDim2.new(q.X.Scale,q.X.Offset+s.X,q.Y.Scale,q.Y.Offset+s.Y)end end))end;local function makeresizable(l,m,n,o,p)if l.Size.X.Offset==0 or l.Size.Y.Offset==0 then local q=math.clamp(400,o,p)local r=math.clamp(300,m,n)l.Size=UDim2.new(0,q,0,r)end;local q=Instance.new"TextButton"q.Name="CornerResizeHandle"q.Parent=l;q.BackgroundTransparency=1;q.Size=UDim2.new(0,20,0,20)q.Position=UDim2.new(1,-20,1,-20)q.ZIndex=11;q.Text=">"q.TextColor3=Color3.fromRGB(150,150,150)q.TextSize=16;q.Font=Enum.Font.SourceSansBold;q.Rotation=45;local r=false;local s=false;local t;local u;local function UpdateTabSizes(v)local w=l:FindFirstChild"Holder":FindFirstChild"TBContainer"if w then local x=w:FindFirstChild"Holder"if x then local y={}for z,A in next,x:GetChildren()do if A:IsA"TextButton"then table.insert(y,A)end end;local z=#y;if z>0 then local A=math.floor((v.X.Offset-19)/z)for B,C in next,y do C.Size=UDim2.new(0,A,1,0)C.Position=UDim2.new(0,(A*(B-1))+(B*2),0,0)end end end end;local x=l:FindFirstChild"Holder":FindFirstChild"TContainer"if x then for y,z in next,x:GetChildren()do if z:IsA"ScrollingFrame"then z.Size=UDim2.new(1,0,1,0)if z:FindFirstChild"LeftSide"then z.LeftSide.Size=UDim2.new(0.5,-5,1,0)end;if z:FindFirstChild"RightSide"then z.RightSide.Size=UDim2.new(0.5,-5,1,0)end;z.CanvasSize=UDim2.new(0,0,0,math.max(z.LeftSide and z.LeftSide.ListLayout.AbsoluteContentSize.Y or 0,z.RightSide and z.RightSide.ListLayout.AbsoluteContentSize.Y or 0)+15)end end end end;task.spawn(function()repeat task.wait()until l:FindFirstChild"Holder"and l.Holder:FindFirstChild"TBContainer"and l.Holder.TBContainer:FindFirstChild"Holder"task.wait(1.4)UpdateTabSizes(l.Size)end)table.insert(a.Connections,q.InputBegan:Connect(function(v)if v.UserInputType==Enum.UserInputType.MouseButton1 or v.UserInputType==Enum.UserInputType.Touch then s=true;t=v.Position;u=l.Size;table.insert(a.Connections,v.Changed:Connect(function()if v.UserInputState==Enum.UserInputState.End then s=false end end))end end))table.insert(a.Connections,f.InputChanged:Connect(function(v)if r and(v.UserInputType==Enum.UserInputType.MouseMovement or v.UserInputType==Enum.UserInputType.Touch)then local w=v.Position.Y-t;local x=math.clamp(u.Y.Offset+w,m,n)local y=UDim2.new(u.X.Scale,u.X.Offset,0,x)l.Size=y;UpdateTabSizes(y)elseif s and(v.UserInputType==Enum.UserInputType.MouseMovement or v.UserInputType==Enum.UserInputType.Touch)then local w=v.Position-t;local x=math.clamp(u.X.Offset+w.X,o,p)local y=math.clamp(u.Y.Offset+w.Y,m,n)local z=UDim2.new(0,x,0,y)l.Size=z;UpdateTabSizes(z)end end))end;local function crebutton(l,m,n,o)if not k then return nil end;local p=10;local q=Instance.new"Frame"q.Name="ReopenButton"q.Parent=l;q.BackgroundColor3=Color3.fromRGB(0,0,0)q.Size=UDim2.new(0,45,0,45)q.Position=UDim2.new(0.85,50,0.8,-200)q.Visible=false;q.ZIndex=p;local r=Instance.new"Frame"r.Name="BorderFrame1"r.Size=UDim2.new(1,-2,1,-2)r.Position=UDim2.new(0,1,0,1)r.BackgroundColor3=Color3.fromRGB(52,53,52)r.BorderSizePixel=0;r.Parent=q;r.ZIndex=p+1;local s=Instance.new"Frame"s.Name="BorderFrame2"s.Size=UDim2.new(1,-2,1,-2)s.Position=UDim2.new(0,1,0,1)s.BackgroundColor3=Color3.fromRGB(28,28,28)s.BorderSizePixel=0;s.Parent=r;s.ZIndex=p+2;local t=Instance.new"Frame"t.Name="BorderFrame3"t.Size=UDim2.new(1,-6,1,-6)t.Position=UDim2.new(0,3,0,3)t.BackgroundColor3=Color3.fromRGB(52,53,52)t.BorderSizePixel=0;t.Parent=s;t.ZIndex=p+3;local u=Instance.new"Frame"u.Name="InnerFrame"u.Size=UDim2.new(1,-2,1,-2)u.Position=UDim2.new(0,1,0,1)u.BackgroundColor3=Color3.fromRGB(5,5,4)u.BorderSizePixel=0;u.Parent=t;u.ZIndex=p+4;local v=Instance.new"UIGradient"v.Name="FrameGradient"v.Rotation=90;v.Color=ColorSequence.new{ColorSequenceKeypoint.new(0,n.Color:Lerp(Color3.fromRGB(5,5,4),0.1)),ColorSequenceKeypoint.new(0.5,Color3.fromRGB(5,5,4)),ColorSequenceKeypoint.new(1,n.Color:Lerp(Color3.fromRGB(5,5,4),0.1))}v.Transparency=NumberSequence.new{NumberSequenceKeypoint.new(0,0.7),NumberSequenceKeypoint.new(0.5,0.9),NumberSequenceKeypoint.new(1,0.7)}v.Parent=u;local w=Instance.new"Frame"w.Name="GradientFrame"w.Size=UDim2.new(1,0,0,1)w.Position=UDim2.new(0,0,0,0)w.BackgroundColor3=n.Color;w.BorderSizePixel=0;w.Parent=u;w.ZIndex=p+6;local x=Instance.new"UIGradient"x.Name="TopGradient"x.Color=ColorSequence.new{ColorSequenceKeypoint.new(0,n.Color),ColorSequenceKeypoint.new(0.25,n.Color:Lerp(Color3.fromRGB(180,100,160),0.5)),ColorSequenceKeypoint.new(0.75,n.Color:Lerp(Color3.fromRGB(180,230,100),0.5)),ColorSequenceKeypoint.new(1,n.Color:Lerp(Color3.fromRGB(180,100,160),0.5))}x.Parent=w;local y=Instance.new"Frame"y.Name="lineee"y.Size=UDim2.new(1,0,0,1)y.Position=UDim2.new(0,0,0,1)y.BackgroundColor3=Color3.fromRGB(0,0,0)y.BackgroundTransparency=0.2;y.BorderSizePixel=0;y.Parent=u;y.ZIndex=p+8;local z=Instance.new"TextLabel"z.Name="ButtonText"z.Size=UDim2.new(1,0,1,0)z.Position=UDim2.new(0,0,0,0)z.BackgroundTransparency=1;z.Text="+"z.TextColor3=n.Color;z.TextScaled=true;z.TextSize=30;z.Font=Enum.Font.Code;z.TextXAlignment=Enum.TextXAlignment.Center;z.TextYAlignment=Enum.TextYAlignment.Center;z.Parent=u;z.ZIndex=p+9;local A=Instance.new"UIGradient"A.Name="TextGradient"A.Color=ColorSequence.new{ColorSequenceKeypoint.new(0,n.Color),ColorSequenceKeypoint.new(1,Color3.fromRGB(255,255,255))}A.Transparency=NumberSequence.new(0.5)A.Parent=z;table.insert(a.ColorTable,w)table.insert(a.ColorTable,z)table.insert(a.ColorTable,v)table.insert(a.ColorTable,x)makedraggable(q,q)local B=false;table.insert(a.Connections,u.InputEnded:Connect(function(C)if C.UserInputType==Enum.UserInputType.Touch or C.UserInputType==Enum.UserInputType.MouseButton1 then B=not B;o(B)end end))task.delay(2,function()q.Visible=true end)return q end;local l=Instance.new"ScreenGui"l.Name="AnkaUI_Notifications"if gethui then l.Parent=gethui()elseif game:GetService"CoreGui"then l.Parent=b(game:GetService"CoreGui")else l.Parent=game:GetService"Players".LocalPlayer:FindFirstChild"PlayerGui"end;local m;if j:IsStudio()then m=require(e.notif).New(l,Color3.fromRGB(255,128,64))else m=loadstring(requesturl"https://raw.githubusercontent.com/nfpw/XXSCRIPT/refs/heads/main/Library/NotificationModule.lua")().New(l,Color3.fromRGB(255,128,64))end;repeat wait()until m~=nil;function a.Notify(n,o,p,q)q=q or 15;m:CreateNotification(o,p,q)end;function a.CreateWindow(n,o,p)local q={}if o==nil then o={WindowName="Developer Mode",Color=Color3.fromRGB(255,128,64),Keybind=Enum.KeyCode.RightShift,MinHeight=100,MaxHeight=600,InitialHeight=400,MinWidth=300,MaxWidth=800,InitialWidth=500,Assets=false}else if o.Assets==nil then o.Assets=false end;o.Keybind=o.Keybind or Enum.KeyCode.RightShift;o.WindowName=o.WindowName or"Developer Mode"o.Color=o.Color or Color3.fromRGB(255,128,64)o.MinHeight=o.MinHeight or 100;o.MaxHeight=o.MaxHeight or 600;o.InitialHeight=o.InitialHeight or 400;o.MinWidth=o.MinWidth or 300;o.MaxWidth=o.MaxWidth or 800;o.InitialWidth=o.InitialWidth or 500 end;if o.Assets then d.Anka.AnkaLoadAssets=true end;local r;if j:IsStudio()then r=e.Bracket else r=loadstring(requesturl"https://raw.githubusercontent.com/nfpw/XXSCRIPT/refs/heads/main/Library/Folder/ModuleFolder.lua")()end;repeat wait()until r~=nil;if j:IsStudio()then m=require(e.notif).New(l,o.Color)else m=loadstring(requesturl"https://raw.githubusercontent.com/nfpw/XXSCRIPT/refs/heads/main/Library/NotificationModule.lua")().New(l,o.Color)end;local s=r.Bracket:Clone()local t=s.Main;local u=t.Holder;local v=t.Topbar;local w=u.TContainer;local x=u.TBContainer.Holder;t.Size=UDim2.new(0,o.InitialWidth,0,o.InitialHeight)makeresizable(t,o.MinHeight,o.MaxHeight,o.MinWidth,o.MaxWidth)s.Name=h:GenerateGUID(false)s.Parent=p;v.WindowName.Text=o.WindowName;function a.SetWindowName(y,z)v.WindowName.Text=z end;local y;y=function(z)if z then t.Visible=true;if q.ReopenButton then q.ReopenButton.Visible=true end else for A,B in next,s:GetChildren()do if B:IsA"Frame"and B.Name~="Main"and B.Name~="Hud"and B.Name~="KeybindViewer"and B.Name~="ToggleList"then B.Visible=false end end;t.Visible=false;if q.ReopenButton then q.ReopenButton.Visible=true end end;a.Toggle=z end;local z=crebutton(s,t,o,y)local A=v.SearchBar;table.insert(a.Connections,A.MouseEnter:Connect(function()if not A:IsFocused()then g:Create(A,TweenInfo.new(0.15),{BackgroundColor3=Color3.fromRGB(30,30,30)}):Play()end end))table.insert(a.Connections,A.MouseLeave:Connect(function()if not A:IsFocused()then g:Create(A,TweenInfo.new(0.15),{BackgroundColor3=Color3.fromRGB(25,25,25)}):Play()end end))table.insert(a.Connections,A.Focused:Connect(function()g:Create(A,TweenInfo.new(0.15),{BackgroundColor3=Color3.fromRGB(35,35,35)}):Play()end))table.insert(a.Connections,A.FocusLost:Connect(function()g:Create(A,TweenInfo.new(0.15),{BackgroundColor3=Color3.fromRGB(25,25,25)}):Play()end))makedraggable(t,t)local B=v.Close;if k then table.insert(a.Connections,B.InputBegan:Connect(function(C)if C.UserInputType==Enum.UserInputType.MouseButton1 or C.UserInputType==Enum.UserInputType.Touch then B.TextColor3=o.Color end end))table.insert(a.Connections,B.InputEnded:Connect(function(C)if C.UserInputType==Enum.UserInputType.MouseButton1 or C.UserInputType==Enum.UserInputType.Touch then B.TextColor3=Color3.fromRGB(150,150,150)s.ToolTip.Visible=false;y(false)end end))else B.Visible=false end;q.ReopenButton=z;q.ToggleVisibility=y;table.insert(a.ColorTable,z)local C={}local D=false;local function FilterSections(E)E=string.lower(E)local F=a.CurrentTab or w:FindFirstChild(a.FirstTab.." T")if not F then return end;for G,H in next,C do if H.TabParent==F then local I=H.Name;local J=string.find(string.lower(I),E)if E==""then G.Visible=true;G.Title.TextColor3=Color3.fromRGB(150,150,150)if G:FindFirstChild"Highlight"then G.Highlight:Destroy()end else if J then G.Visible=true;G.Title.TextColor3=o.Color;if not G:FindFirstChild"Highlight"then local K=Instance.new"Frame"K.Name="Highlight"K.Parent=G;K.BackgroundColor3=o.Color;K.BorderSizePixel=0;K.Position=UDim2.new(0,0,1,0)K.Size=UDim2.new(1,0,0,2)K.ZIndex=2;table.insert(a.ColorTable,K)else G.Highlight.BackgroundColor3=o.Color end else G.Visible=false;G.Title.TextColor3=Color3.fromRGB(150,150,150)if G:FindFirstChild"Highlight"then G.Highlight:Destroy()end end end end end end;table.insert(a.Connections,A:GetPropertyChangedSignal"Text":Connect(function()FilterSections(A.Text)end))table.insert(a.Connections,A.Changed:Connect(function(E)if E=="Text"then FilterSections(A.Text)end end))local E;local function CreateTransitionFrame(F,G)if E then E:Destroy()end;E=Instance.new"Frame"E.Name="TransitionFrame"E.Parent=F;E.BackgroundColor3=G or Color3.fromRGB(25,25,25)E.BorderSizePixel=0;E.Size=UDim2.new(0,0,1,0)E.Position=UDim2.new(1,0,0,0)E.AnchorPoint=Vector2.new(1,0)E.ZIndex=10;if d.Anka and d.Anka.AnkaLoadAssets then E.Visible=false else E.Visible=true end;local H=r.UIGradient:Clone()H.Parent=E;return E end;local function AnimateTabOut(F,G,H)if not F or not F.Visible then if H then H()end;return end;local I=F.BackgroundColor3 or Color3.fromRGB(25,25,25)local J=CreateTransitionFrame(F.Parent,I)local K=TweenInfo.new(0.3,Enum.EasingStyle.Quart,Enum.EasingDirection.Out)local L=g:Create(J,K,{Size=UDim2.new(1,0,1,0)})if G then g:Create(G,TweenInfo.new(0.2,Enum.EasingStyle.Quad),{BackgroundTransparency=1}):Play()local M=G:FindFirstChild"Underline"if M then g:Create(M,TweenInfo.new(0.15,Enum.EasingStyle.Quad),{Size=UDim2.new(0,0,0,2),Position=UDim2.new(0.5,0,1,-2)}):Play()end end;table.insert(a.Connections,L.Completed:Connect(function()F.Visible=false;if H then H()end end))L:Play()end;local function AnimateTabIn(F,G)if not F then return end;F.Visible=true;if E then local H=TweenInfo.new(0.3,Enum.EasingStyle.Quart,Enum.EasingDirection.Out)E.AnchorPoint=Vector2.new(0,0)E.Position=UDim2.new(0,0,0,0)local I=g:Create(E,H,{Size=UDim2.new(0,0,1,0)})I.Completed:Connect(function()if E then E:Destroy()E=nil end end)I:Play()end;if G then g:Create(G,TweenInfo.new(0.25,Enum.EasingStyle.Quad),{BackgroundTransparency=0}):Play()local H=G:FindFirstChild"Underline"if H then H.Visible=true;H.Size=UDim2.new(0,0,0,2)H.Position=UDim2.new(0.5,0,1,-2)g:Create(H,TweenInfo.new(0.4,Enum.EasingStyle.Quart,Enum.EasingDirection.Out),{Size=UDim2.new(1,0,0,2),Position=UDim2.new(0,0,1,-2)}):Play()end end end;local function SwitchToTab(F,G)if D or a.CurrentTab==F then return end;D=true;for H,I in next,d.Anka.Elements do if I.Type=="ColorPicker"then I:ClosePallete()end end;local H=a.CurrentTab;local I;if H then local J=H.Name:gsub(" T$"," TB")I=x:FindFirstChild(J)end;AnimateTabOut(H,I,function()a.CurrentTab=F;AnimateTabIn(F,G)A.Text=""FilterSections""D=false end)end;local function CloseAll()for F,G in next,w:GetChildren()do if G:IsA"ScrollingFrame"then G.Visible=false end end end;local function ResetAll()for F,G in next,x:GetChildren()do if G:IsA"TextButton"then G.BackgroundTransparency=1;local H=G:FindFirstChild"Underline"if H then H.Visible=false end end end;for F,G in next,x:GetChildren()do if G:IsA"TextButton"then G.Size=UDim2.new(0,480/a.TabCount,1,0)end end;for F,G in next,s:GetChildren()do if G:IsA"Frame"and G.Name~="Main"then G.Visible=false end end;for F,G in next,C do F.Title.TextColor3=Color3.fromRGB(150,150,150)if F:FindFirstChild"Highlight"then F.Highlight:Destroy()end end end;local function KeepFirst()for F,G in next,w:GetChildren()do if G:IsA"ScrollingFrame"then if G.Name==a.FirstTab.." T"then G.Visible=true;a.CurrentTab=G else G.Visible=false end end end;for F,G in next,x:GetChildren()do if G:IsA"TextButton"then if G.Name==a.FirstTab.." TB"then G.BackgroundTransparency=0;local H=G:FindFirstChild"Underline"if H then H.Visible=true end else G.BackgroundTransparency=1 end end end end;local function ChangeColor(F)if not s or not s.Parent then return end;o.Color=F;m.AccentColor=F;for G,H in next,a.ColorTable do if not H or not H.Parent then table.remove(a.ColorTable,G)continue end;local I=false;if H.Parent and H.Parent.Name and string.find(H.Parent.Name," B$")then I=true elseif H.Name and string.find(H.Name," B$")then I=true elseif H.ClassName=="TextButton"or H.ClassName=="ImageButton"then if H.Parent and H.Parent.Parent and string.find(tostring(H.Parent.Parent),"Button")then I=true end end;if not I then if H:IsA"ImageButton"then H.ImageColor3=F elseif H.Name=="GlowEffect"then H.BackgroundColor3=F elseif H.Name=="WindowGlow"and H:IsA"UIStroke"then H.Color=F elseif H.Name=="GlowFrame"and H:IsA"Frame"then H.BackgroundColor3=F elseif H:IsA"TextLabel"and H.Name=="ButtonText"then H.TextColor3=F;if H:FindFirstChild"TextGradient"then H.TextGradient.Color=ColorSequence.new{ColorSequenceKeypoint.new(0,F),ColorSequenceKeypoint.new(1,Color3.fromRGB(255,255,255))}end elseif H:IsA"Frame"and H.Name=="GradientFrame"then H.BackgroundColor3=F elseif H:IsA"UIGradient"then if H.Name=="TopGradient"then H.Color=ColorSequence.new{ColorSequenceKeypoint.new(0,F),ColorSequenceKeypoint.new(0.25,F:Lerp(Color3.fromRGB(180,100,160),0.5)),ColorSequenceKeypoint.new(0.75,F:Lerp(Color3.fromRGB(180,230,100),0.5)),ColorSequenceKeypoint.new(1,F:Lerp(Color3.fromRGB(180,100,160),0.5))}elseif H.Name=="FrameGradient"then H.Color=ColorSequence.new{ColorSequenceKeypoint.new(0,F:Lerp(Color3.fromRGB(5,5,4),0.1)),ColorSequenceKeypoint.new(0.5,Color3.fromRGB(5,5,4)),ColorSequenceKeypoint.new(1,F:Lerp(Color3.fromRGB(5,5,4),0.1))}elseif H.Name=="TextGradient"then H.Color=ColorSequence.new{ColorSequenceKeypoint.new(0,F),ColorSequenceKeypoint.new(1,Color3.fromRGB(255,255,255))}end else local J=false;local K=false;if H.Parent and H.Parent.Name and string.find(H.Parent.Name," T$")and H.Name=="Toggle"then J=true end;if H.Parent and H.Parent.Name and string.find(H.Parent.Name," T$")then if H.Name=="Background"or H.Name=="Title"then K=true end end;if not J and not K then H.BackgroundColor3=F end end end end;for G,H in next,d.Anka.Elements do if not H or(H.Object and not H.Object.Parent)then d.Anka.Elements[G]=nil;continue end;if H.Type=="Toggle"and H.UpdateColors then H:UpdateColors()elseif H.Type=="TextBox"and H.UpdateColors then H:UpdateColors()elseif H.Type=="Button"and H.UpdateColors then H:UpdateColors()end end;if A and A.Text~=""then FilterSections(A.Text)end end;local function ChangeFont(F)if not s or not s.Parent then return end;local function UpdateElementFont(G)if G:IsA"TextLabel"or G:IsA"TextButton"or G:IsA"TextBox"then G.Font=F end end;for G,H in next,s:GetDescendants()do UpdateElementFont(H)end;if m and m.Container then for G,H in next,m.Container:GetDescendants()do UpdateElementFont(H)end end;for G,H in next,d.Anka.Elements do if not H or(H.Object and not H.Object.Parent)then d.Anka.Elements[G]=nil;continue end;if H.UpdateFont then H:UpdateFont(F)elseif H.Object then UpdateElementFont(H.Object)end end end;function q.ChangeColor(F,G)ChangeColor(G)end;function q.Toggle(F,G)y(G)end;function q.SetBackground(F,G)if d.Anka.AnkaLoadAssets then u.Image=G end end;function q.Notify(F,G,H,I)I=I or 15;m:CreateNotification(G,H,I)end;function q.SetBackgroundColor(F,G)u.ImageColor3=G end;function q.SetBackgroundTransparency(F,G)u.ImageTransparency=G end;function q.SetTileOffset(F,G)u.TileSize=UDim2.new(0,G,0,G)end;function q.SetTileScale(F,G)u.TileSize=UDim2.new(G,0,G,0)end;function q.SetFont(F,G)ChangeFont(G)end;function q.CreateTab(F,G)local H={}local I=r.Tab:Clone()local J=r.TabButton:Clone()a.Connections=a.Connections or{}I.Name=G.." T"I.Parent=w;J.Name=G.." TB"J.Parent=x;J.Title.Text=G;J.BackgroundColor3=o.Color;local K=J.Underline;K.BackgroundColor3=o.Color;table.insert(a.ColorTable,K)table.insert(a.ColorTable,J)a.TabCount=a.TabCount+1;if a.TabCount==1 then a.FirstTab=G;K.Visible=true end;CloseAll()ResetAll()KeepFirst()local function GetSide(L)if L then if I.LeftSide.ListLayout.AbsoluteContentSize.Y>I.RightSide.ListLayout.AbsoluteContentSize.Y then return I.LeftSide else return I.RightSide end else if I.LeftSide.ListLayout.AbsoluteContentSize.Y>I.RightSide.ListLayout.AbsoluteContentSize.Y then return I.RightSide else return I.LeftSide end end end;table.insert(a.Connections,J.InputBegan:Connect(function(L)if not J or not J.Parent then return end;if L.UserInputType==Enum.UserInputType.MouseButton1 or L.UserInputType==Enum.UserInputType.Touch then SwitchToTab(I,J)end end))table.insert(a.Connections,J.MouseEnter:Connect(function()if not J or not J.Parent then return end;if a.CurrentTab~=I then g:Create(J,TweenInfo.new(0.15,Enum.EasingStyle.Quad),{BackgroundTransparency=0.7}):Play()end end))table.insert(a.Connections,J.MouseLeave:Connect(function()if not J or not J.Parent then return end;if a.CurrentTab~=I then g:Create(J,TweenInfo.new(0.15,Enum.EasingStyle.Quad),{BackgroundTransparency=1}):Play()end end))table.insert(a.Connections,I.LeftSide.ListLayout:GetPropertyChangedSignal"AbsoluteContentSize":Connect(function()if not I or not I.Parent then return end;if GetSide(true).Name==I.LeftSide.Name then I.CanvasSize=UDim2.new(0,0,0,I.LeftSide.ListLayout.AbsoluteContentSize.Y+15)else I.CanvasSize=UDim2.new(0,0,0,I.RightSide.ListLayout.AbsoluteContentSize.Y+15)end end))table.insert(a.Connections,I.RightSide.ListLayout:GetPropertyChangedSignal"AbsoluteContentSize":Connect(function()if not I or not I.Parent then return end;if GetSide(true).Name==I.LeftSide.Name then I.CanvasSize=UDim2.new(0,0,0,I.LeftSide.ListLayout.AbsoluteContentSize.Y+15)else I.CanvasSize=UDim2.new(0,0,0,I.RightSide.ListLayout.AbsoluteContentSize.Y+15)end end))function H.CreateSection(L,M,N)local O={}local P=r.Section:Clone()P.Name=M.." S"a.Connections=a.Connections or{}local Q;if N then N=N:lower()if N=="left"then Q=I.LeftSide elseif N=="right"then Q=I.RightSide else Q=GetSide(false)end else Q=GetSide(false)end;P.Parent=Q;P.Title.Text=M;P.Title.Size=UDim2.new(0,P.Title.TextBounds.X+10,0,2)C[P]={Name=M,TabParent=I}if string.find(P.Parent.Name:lower(),"left")then P.Parent.Padding.PaddingRight=UDim.new(0,3)elseif string.find(P.Parent.Name:lower(),"right")then P.Parent.Padding.PaddingLeft=UDim.new(0,3)end;table.insert(a.Connections,P.Container.ListLayout:GetPropertyChangedSignal"AbsoluteContentSize":Connect(function()if not P or not P.Parent then return end;P.Size=UDim2.new(1,0,0,P.Container.ListLayout.AbsoluteContentSize.Y+15)end))function O.SetVisible(R,S)P.Visible=S end;function O.IsVisible(R)return P.Visible end;function O.ToggleVisibility(R)P.Visible=not P.Visible;return P.Visible end;function O.CreateLabel(R,S,T)local U={}d.Anka.ElementCounter+=1;local V=S.." - "..d.Anka.ElementCounter;local W=r.Label:Clone()W.RichText=true;W.Name=S.." L"W.Parent=P.Container;W.Text=S;W.TextWrapped=T or false;if T then W.Size=UDim2.new(1,-10,0,0)W.AutomaticSize=Enum.AutomaticSize.Y else W.AutomaticSize=Enum.AutomaticSize.None;W.Size=UDim2.new(1,-10,0,W.TextBounds.Y)end;function U.SetVisible(X,Y)if W and W.Parent then W.Visible=Y end end;function U.IsVisible(X)return W and W.Parent and W.Visible end;function U.ToggleVisibility(X)if W and W.Parent then W.Visible=not W.Visible;return W.Visible end;return false end;function U.UpdateText(X,Y)if W and W.Parent then W.Text=Y;if not T then W.Size=UDim2.new(1,-10,0,W.TextBounds.Y)end end end;function U.SetWrapText(X,Y)if W and W.Parent then W.TextWrapped=Y;if Y then W.AutomaticSize=Enum.AutomaticSize.Y;W.Size=UDim2.new(1,-10,0,0)else W.AutomaticSize=Enum.AutomaticSize.None;W.Size=UDim2.new(1,-10,0,W.TextBounds.Y)end end end;function U.Destroy(X)if W and W.Parent then W:Destroy()end;d.Anka.Elements[V]=nil;U.Instance=nil end;U.Instance=W;U.Type="Label"U.UniqueID=V;d.Anka.Elements[V]=U;return U end;function O.CreateButton(R,S,T,U)local V={}d.Anka.ElementCounter+=1;local W=S.." - "..d.Anka.ElementCounter;local X=r.Button:Clone()X.Name=S.." B"X.Parent=P.Container;X.Title.Text=S;X.Title.TextWrapped=U or false;a.Connections=a.Connections or{}if U then X.Title.AutomaticSize=Enum.AutomaticSize.Y;X.Title.Size=UDim2.new(1,-10,0,0)X.AutomaticSize=Enum.AutomaticSize.Y;X.Size=UDim2.new(1,-10,0,0)else X.Title.AutomaticSize=Enum.AutomaticSize.None;X.AutomaticSize=Enum.AutomaticSize.None;X.Size=UDim2.new(1,-10,0,X.Title.TextBounds.Y+5)end;local Y=Color3.fromRGB(50,50,50)X.BackgroundColor3=Y;local Z=false;local _=false;table.insert(a.ColorTable,X)local aa=TweenInfo.new(0.15,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)local function UpdateButtonColor()if not X or not X.Parent then return end;local ab=Z and o.Color or _ and Color3.fromRGB(60,60,60)or Y;g:Create(X,aa,{BackgroundColor3=ab}):Play()end;local function SimulateButtonPress()if not X or not X.Parent then return end;Z=true;UpdateButtonColor()task.delay(0.1,function()if X and X.Parent then Z=false;UpdateButtonColor()end end)end;local ab={}table.insert(ab,X.InputBegan:Connect(function(ac)if not X or not X.Parent then return end;if ac.UserInputType==Enum.UserInputType.MouseButton1 or ac.UserInputType==Enum.UserInputType.Touch then Z=true;UpdateButtonColor()end end))table.insert(ab,X.InputEnded:Connect(function(ac)if not X or not X.Parent then return end;if ac.UserInputType==Enum.UserInputType.MouseButton1 or ac.UserInputType==Enum.UserInputType.Touch then Z=false;UpdateButtonColor()T()end end))table.insert(ab,X.MouseEnter:Connect(function()if not X or not X.Parent then return end;_=true;if not Z then UpdateButtonColor()end end))table.insert(ab,X.MouseLeave:Connect(function()if not X or not X.Parent then return end;_=false;UpdateButtonColor()end))for ac,ad in next,ab do table.insert(a.Connections,ad)end;function V.SetVisible(ac,ad)if X and X.Parent then X.Visible=ad end end;function V.IsVisible(ac)return X and X.Parent and X.Visible end;function V.ToggleVisibility(ac)if X and X.Parent then X.Visible=not X.Visible end end;function V.UpdateColors(ac)UpdateButtonColor()end;function V.SetWrapText(ac,ad)if X and X.Parent then X.Title.TextWrapped=ad;if ad then X.Title.AutomaticSize=Enum.AutomaticSize.Y;X.Title.Size=UDim2.new(1,-10,0,0)X.AutomaticSize=Enum.AutomaticSize.Y;X.Size=UDim2.new(1,-10,0,0)else X.Title.AutomaticSize=Enum.AutomaticSize.None;X.AutomaticSize=Enum.AutomaticSize.None;X.Size=UDim2.new(1,-10,0,X.Title.TextBounds.Y+5)end end end;local ac;function V.CreateKeybind(ad,ae,af)if f.TouchEnabled then return{SetBind=function()end,GetBind=function()return Enum.KeyCode.Unknown end}end;local ag={}ae=(typeof(ae)=="EnumItem"and tostring(ae):gsub("Enum.KeyCode.",""))or ae or"NONE"local ah=false;local ai=ae;local aj={}X.Keybind.Visible=true;X.Keybind.Text="[ "..ae.." ]"table.insert(a.Connections,X.Keybind.MouseButton1Click:Connect(function()X.Keybind.Text="[ ... ]"ah=true;local ak=g:Create(X.Keybind,TweenInfo.new(0.5,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut,-1,true),{TextTransparency=0.5})ak:Play()local al;al=X.Keybind:GetPropertyChangedSignal"Text":Connect(function()if X.Keybind.Text~="[ ... ]"then ak:Cancel()X.Keybind.TextTransparency=0;al:Disconnect()end end)table.insert(a.Connections,al)end))table.insert(a.Connections,X.Keybind.MouseButton2Click:Connect(function()X.Keybind.Text="[ NONE ]"ai="NONE"end))table.insert(a.Connections,X.Keybind:GetPropertyChangedSignal"TextBounds":Connect(function()X.Keybind.Size=UDim2.new(0,X.Keybind.TextBounds.X,1,0)end))table.insert(a.Connections,f.InputBegan:Connect(function(ak)if f:GetFocusedTextBox()==nil then if ah and ak.UserInputType==Enum.UserInputType.Keyboard then local al=tostring(ak.KeyCode):gsub("Enum.KeyCode.","")if not table.find(aj,al)then X.Keybind.Text="[ "..al.." ]"ai=al;if af then af(al)end else X.Keybind.Text="[ NONE ]"ai="NONE"end;ah=false elseif ak.UserInputType==Enum.UserInputType.Keyboard then local al=tostring(ak.KeyCode):gsub("Enum.KeyCode.","")if al==ai and ai~="NONE"then SimulateButtonPress()T()if af then af(al)end end end end end))function ag.SetBind(ak,al)local am=(typeof(al)=="EnumItem"and tostring(al):gsub("Enum.KeyCode.",""))or al;X.Keybind.Text="[ "..am.." ]"ai=am end;function ag.GetBind(ak)local al,am=pcall(function()return Enum.KeyCode[ai]end)return al and am or Enum.KeyCode.Unknown end;ac=ag;return ag end;function V.GetKeybind(ad)return ac end;function V.Destroy(ad)if ab then for ae,af in next,ab do if af and af.Disconnect then af:Disconnect()end end;ab=nil end;if ac then ac=nil end;if X and X.Parent then X:Destroy()end;V.Instance=nil;d.Anka.Elements[W]=nil end;V.Instance=X;V.Type="Button"V.UniqueID=W;d.Anka.Elements[W]=V;return V end;function O.CreateTextBox(aa,ab,ac,ad,ae,af)local ag={}d.Anka.ElementCounter+=1;local ah=ab.." - "..d.Anka.ElementCounter;local ai=r.TextBox:Clone()ai.Name=ab.." T"ai.Parent=P.Container;ai.Title.Text=ab;ai.Background.Input.PlaceholderText=ac;ai.Title.Size=UDim2.new(1,0,0,ai.Title.TextBounds.Y+5)ai.Size=UDim2.new(1,-10,0,ai.Title.TextBounds.Y+25)a.Connections=a.Connections or{}table.insert(a.ColorTable,ai.Background)table.insert(a.ColorTable,ai.Title)local aj=TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)local ak=TweenInfo.new(0.15,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)TweenInfo.new(0.25,Enum.EasingStyle.Back,Enum.EasingDirection.Out)local al=ai.Background.BackgroundColor3;local am=ai.Background.BorderColor3;local R=ai.Background.BackgroundTransparency;local S=ai.Title.TextColor3;ai.Title.TextWrapped=af or false;if af then ai.Title.AutomaticSize=Enum.AutomaticSize.Y;ai.Title.Size=UDim2.new(1,0,0,0)ai.Size=UDim2.new(1,-10,0,ai.Title.TextBounds.Y+25)else ai.Title.AutomaticSize=Enum.AutomaticSize.None end;function ag.UpdateColors(T)if not ai or not ai.Parent then return end;if ai.Background.Input:IsFocused()then ai.Background.BorderColor3=o.Color;ai.Title.TextColor3=o.Color else ai.Background.BorderColor3=am;ai.Title.TextColor3=S end end;table.insert(a.Connections,ai.Background.Input.Focused:Connect(function()if not ai or not ai.Parent then return end;g:Create(ai.Background,aj,{BackgroundColor3=al:lerp(Color3.fromRGB(255,255,255),0.1),BorderColor3=o.Color,BackgroundTransparency=math.max(0,R-0.1)}):Play()g:Create(ai.Title,aj,{TextColor3=o.Color}):Play()end))table.insert(a.Connections,ai.Background.Input.FocusLost:Connect(function()if not ai or not ai.Parent then return end;g:Create(ai.Background,aj,{BackgroundColor3=al,BorderColor3=am,BackgroundTransparency=R}):Play()g:Create(ai.Title,aj,{TextColor3=S}):Play()local T=ai.Background.Input.Text;if ad then local U=tonumber(T)or 0;if U then ae(U)end else ae(T)end end))table.insert(a.Connections,ai.MouseEnter:Connect(function()if not ai or not ai.Parent then return end;if not ai.Background.Input:IsFocused()then g:Create(ai.Background,ak,{BackgroundColor3=al:lerp(Color3.fromRGB(255,255,255),0.05),BackgroundTransparency=math.max(0,R-0.05)}):Play()end end))table.insert(a.Connections,ai.MouseLeave:Connect(function()if not ai or not ai.Parent then return end;if not ai.Background.Input:IsFocused()then g:Create(ai.Background,ak,{BackgroundColor3=al,BackgroundTransparency=R}):Play()end end))function ag.SetValue(T,U)if not ai or not ai.Parent then return end;ai.Background.Input.Text=tostring(U)local V=g:Create(ai.Background,TweenInfo.new(0.1,Enum.EasingStyle.Quad),{BackgroundColor3=al:lerp(o.Color,0.3)})V:Play()V.Completed:Connect(function()if not ai or not ai.Parent then return end;g:Create(ai.Background,TweenInfo.new(0.3,Enum.EasingStyle.Quad),{BackgroundColor3=al}):Play()end)ae(U)end;function ag.GetValue(T)if not ai or not ai.Parent then return""end;return ai.Background.Input.Text end;function ag.SetVisible(T,U)if ai and ai.Parent then ai.Visible=U end end;function ag.ToggleInput(T)if ai and ai.Parent then ai.Background.Input.TextEditable=not ai.Background.Input.TextEditable;return ai.Background.Input.TextEditable end;return false end;function ag.IsVisible(T)return ai and ai.Parent and ai.Visible end;function ag.ToggleVisibility(T)if ai and ai.Parent then ai.Visible=not ai.Visible;return ai.Visible end;return false end;ag.Type="TextBox"ag.UniqueID=ah;d.Anka.Elements[ah]=ag;return ag end;function O.CreateToggle(aa,ab,ac,ad,ae,af,ag)local ah={}d.Anka.ElementCounter+=1;local ai=ab.." - "..d.Anka.ElementCounter;local aj=ac or false;local ak=ae or"normal"local al=af;local am=r.Toggle:Clone()am.Name=ab.." T"am.Parent=P.Container;am.Title.Text=ab;am.Size=UDim2.new(1,-10,0,am.Title.TextBounds.Y+5)a.Connections=a.Connections or{}local R={dangerous={color=Color3.fromRGB(255,85,85),icon="(!)",description="Dangerous"},buggy={color=Color3.fromRGB(255,200,0),icon="(B)",description="Buggy"},normal={color=o.Color or Color3.fromRGB(0,162,255),icon="",description="Normal"}}local S=am.StatusIndicator;S.ZIndex=am.ZIndex+1;S.Visible=ak~="normal"if ak~="normal"then S.Size=UDim2.new(0,S.TextBounds.X+4,1,0)end;local T=am.InfoIndicator;T.ZIndex=am.ZIndex+1;T.Visible=al~=nil;T.BorderSizePixel=0;if al then T.Size=UDim2.new(0,T.TextBounds.X+8,0,T.TextBounds.X+8)T.BackgroundColor3=Color3.fromRGB(60,60,60)T.BackgroundTransparency=0.3 end;local U;if al then local V=a:GetTextBounds(al,Enum.Font.SourceSans,14)local W=math.min(math.max(V+16,150),300)local X,Y=a:GetTextBounds(al,Enum.Font.SourceSans,14,Vector2.new(W-16,10000))U=Instance.new"Frame"U.Name="InfoTooltip"U.Size=UDim2.new(0,W,0,Y+16)U.Position=UDim2.new(1,-W-5,1,5)U.BackgroundColor3=Color3.fromRGB(25,25,25)U.BorderSizePixel=1;U.BorderColor3=Color3.fromRGB(55,55,55)U.Visible=false;U.ZIndex=am.ZIndex+10;U.Parent=am;local Z=Instance.new"Frame"Z.Name="Shadow"Z.Size=UDim2.new(1,8,1,8)Z.Position=UDim2.new(0,4,0,4)Z.BackgroundColor3=Color3.fromRGB(0,0,0)Z.BackgroundTransparency=0.7;Z.BorderSizePixel=0;Z.ZIndex=U.ZIndex-1;Z.Parent=U;local _=Instance.new"UICorner"_.CornerRadius=UDim.new(0,6)_.Parent=Z;local an=Instance.new"Frame"an.Name="AccentLine"an.Size=UDim2.new(1,0,0,2)an.Position=UDim2.new(0,0,0,0)an.BackgroundColor3=Color3.fromRGB(245,245,245)an.BorderSizePixel=0;an.ZIndex=U.ZIndex+1;an.Parent=U;local ao=Instance.new"TextLabel"ao.Name="Text"ao.Size=UDim2.new(0,W-16,0,Y)ao.Position=UDim2.new(0,8,0,8)ao.BackgroundTransparency=1;ao.Text=al;ao.TextColor3=Color3.fromRGB(255,255,255)ao.TextScaled=false;ao.Font=Enum.Font.SourceSans;ao.TextSize=14;ao.TextWrapped=true;ao.TextXAlignment=Enum.TextXAlignment.Left;ao.TextYAlignment=Enum.TextYAlignment.Top;ao.ZIndex=U.ZIndex+1;ao.Parent=U end;local function UpdateTitleSize()local an=am.Keybind.Visible and am.Keybind.Size.X.Offset or 0;local ao=0;local V=0;if ak~="normal"and S.Visible then ao=S.Size.X.Offset+5 end;if al and T.Visible then V=T.Size.X.Offset+5 end;local W=an+ao+V+15;am.Title.Size=UDim2.new(1,-W,1,0)local X=5;if am.Keybind.Visible then X+=an end;if al and T.Visible then T.Position=UDim2.new(1,-X-T.Size.X.Offset,0.5,-T.Size.Y.Offset/2)X+=T.Size.X.Offset+5 end;if ak~="normal"and S.Visible then S.Position=UDim2.new(1,-X-S.Size.X.Offset,0,0)end end;table.insert(a.Connections,S:GetPropertyChangedSignal"TextBounds":Connect(function()if ak~="normal"then S.Size=UDim2.new(0,S.TextBounds.X+4,1,0)UpdateTitleSize()end end))if al then table.insert(a.Connections,T:GetPropertyChangedSignal"TextBounds":Connect(function()T.Size=UDim2.new(0,T.TextBounds.X+8,0,T.TextBounds.X+8)UpdateTitleSize()end))end;UpdateTitleSize()if al then local function ShowInfoTooltip()if U then U.Visible=true end end;local function HideInfoTooltip()if U then U.Visible=false end end;table.insert(a.Connections,T.MouseEnter:Connect(ShowInfoTooltip))table.insert(a.Connections,T.MouseLeave:Connect(HideInfoTooltip))table.insert(a.Connections,T.TouchTap:Connect(function()ShowInfoTooltip()task.wait(3)HideInfoTooltip()end))table.insert(a.Connections,T.MouseEnter:Connect(function()local an=g:Create(T,TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{TextColor3=Color3.fromRGB(255,255,255),BackgroundTransparency=0.1})an:Play()end))table.insert(a.Connections,T.MouseLeave:Connect(function()local an=g:Create(T,TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{TextColor3=Color3.fromRGB(150,150,150),BackgroundTransparency=0.3})an:Play()end))end;table.insert(a.ColorTable,am.Toggle)local an=false;local ao=TweenInfo.new(0.3,Enum.EasingStyle.Quart,Enum.EasingDirection.Out)local V=TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)local W=TweenInfo.new(0.4,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut,-1,true)local X=TweenInfo.new(0.2,Enum.EasingStyle.Back,Enum.EasingDirection.Out)local Y=am.Toggle.GlowEffect;if ak=="normal"then table.insert(a.ColorTable,Y)end;if am.Toggle:FindFirstChild"UICorner"then local Z=am.Toggle.UICorner:Clone()Z.CornerRadius=UDim.new(0,Z.CornerRadius.Offset+2)Z.Parent=Y end;local function SetState(Z)if not am or not am.Parent then return end;if not a.flags then return end;if not d.Anka.flags then return end;g:Create(am.Toggle,ao,{}):Cancel()g:Create(am.Title,V,{}):Cancel()g:Create(Y,W,{}):Cancel()local _=R[ak].color;if Z then local ap=g:Create(am.Toggle,ao,{BackgroundColor3=_})local aq=g:Create(am.Title,V,{TextColor3=_,TextStrokeTransparency=0.8})local ar=g:Create(Y,W,{BackgroundTransparency=0.7})local as=g:Create(S,X,{TextTransparency=0.3})ap:Play()aq:Play()ar:Play()if ak~="normal"then as:Play()end else local ap=g:Create(am.Toggle,ao,{BackgroundColor3=Color3.fromRGB(50,50,50)})local aq=g:Create(am.Title,V,{TextColor3=Color3.fromRGB(200,200,200),TextStrokeTransparency=1})local ar=g:Create(Y,ao,{BackgroundTransparency=1})local as=g:Create(S,X,{TextTransparency=0})ap:Play()aq:Play()ar:Play()if ak~="normal"then as:Play()end end;an=Z;ad(Z)end;table.insert(a.Connections,am.MouseEnter:Connect(function()local ap=R[ak].color;if not an then local aq=g:Create(am.Toggle,TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{BackgroundColor3=Color3.fromRGB(70,70,70)})aq:Play()end;local aq=g:Create(am.Title,TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{TextColor3=an and ap or Color3.fromRGB(255,255,255)})aq:Play()if ak~="normal"then local ar=g:Create(S,TweenInfo.new(0.15,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{TextTransparency=0.2})ar:Play()end end))table.insert(a.Connections,am.MouseLeave:Connect(function()local ap=R[ak].color;if not an then local aq=g:Create(am.Toggle,TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{BackgroundColor3=Color3.fromRGB(50,50,50)})aq:Play()end;local aq=g:Create(am.Title,TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{TextColor3=an and ap or Color3.fromRGB(200,200,200)})aq:Play()if ak~="normal"then local ar=g:Create(S,TweenInfo.new(0.15,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{TextTransparency=an and 0.3 or 0})ar:Play()end end))table.insert(a.Connections,am.InputBegan:Connect(function(ap)if f:GetFocusedTextBox()==nil then if ap.UserInputType==Enum.UserInputType.MouseButton1 or ap.UserInputType==Enum.UserInputType.Touch then if not a.flags then return end;if not d.Anka.flags then return end;an=not an;SetState(an)end end end))function ah.SetState(ap,aq)SetState(aq)end;function ah.GetState(ap)return an end;function ah.SetStatus(ap,aq)if R[aq]then ak=aq;local ar=R[aq]S.Text=ar.icon;S.TextColor3=ar.color;S.Visible=aq~="normal"Y.BackgroundColor3=ar.color;if aq~="normal"then S.Size=UDim2.new(0,S.TextBounds.X+4,1,0)end;UpdateTitleSize()if an then am.Toggle.BackgroundColor3=ar.color;am.Title.TextColor3=ar.color end end end;function ah.GetStatus(ap)return ak end;function ah.SetInfo(ap,aq)al=aq;if al then T.Visible=true;if U then local ar=a:GetTextBounds(al,Enum.Font.SourceSans,14)local as=math.min(math.max(ar+16,150),300)local Z,_=a:GetTextBounds(al,Enum.Font.SourceSans,14,Vector2.new(as-16,10000))U.Size=UDim2.new(0,as,0,_+16)U.Position=UDim2.new(1,-as-5,1,5)U.Text.Text=al;U.Text.Size=UDim2.new(0,as-16,0,_)end else T.Visible=false;if U then U.Visible=false end end;UpdateTitleSize()end;function ah.GetInfo(ap)return al end;function ah.UpdateColors(ap)if ak=="normal"then local aq=o.Color or Color3.fromRGB(0,162,255)R.normal.color=aq;if an then am.Toggle.BackgroundColor3=aq;am.Title.TextColor3=aq end;Y.BackgroundColor3=aq;pcall(function()if am.Title.TextColor3~=Color3.fromRGB(200,200,200)and am.Title.TextColor3~=Color3.fromRGB(255,255,255)then am.Title.TextColor3=aq end end)end end;local ap;function ah.CreateKeybind(aq,ar,as,Z)if f.TouchEnabled then return{SetBind=function()end,GetBind=function()return Enum.KeyCode.Unknown end,SetMode=function()end,GetMode=function()return"Toggle"end}end;local _={}ar=(typeof(ar)=="EnumItem"and tostring(ar):gsub("Enum.KeyCode.",""))or ar or"NONE"local at=(Z=="Hold"and"Hold")or"Toggle"local au=false;local av=ar;local aw={}local ax=false;local ay;local az=0;am.Keybind.Visible=true;am.Keybind.Text="[ "..ar.." ]"UpdateTitleSize()local function GetInputName(aA)if aA.UserInputType==Enum.UserInputType.MouseButton1 then return"LeftClick"elseif aA.UserInputType==Enum.UserInputType.MouseButton2 then return"RightClick"elseif aA.UserInputType==Enum.UserInputType.Keyboard then return tostring(aA.KeyCode):gsub("Enum.KeyCode.","")end;return nil end;local function IsMouseButton(aA)return aA=="LeftClick"or aA=="RightClick"end;local aA=am:FindFirstChild"ModePopup"local aB=aA and aA.BorderFrame1.BorderFrame2.BorderFrame3:FindFirstChild"InnerFrame"local aC=aB and aB:FindFirstChild"ToggleMode"local aD=aB and aB:FindFirstChild"HoldMode"local aE=aB and aB:FindFirstChild"RemoveKeybind"local function UpdateSelectedButton()if aC then local aF=aC:FindFirstChild"SelectionGradient"if aF then aF:Destroy()end end;if aD then local aF=aD:FindFirstChild"SelectionGradient"if aF then aF:Destroy()end end;local aF=(at=="Toggle"and aC)or aD;if aF then local aG=Instance.new"UIGradient"aG.Name="SelectionGradient"aG.Color=ColorSequence.new{ColorSequenceKeypoint.new(0,Color3.fromRGB(255,255,255)),ColorSequenceKeypoint.new(1,Color3.fromRGB(0,0,0))}aG.Rotation=90;aG.Parent=aF end end;if aC and aD then UpdateSelectedButton()end;if aC then table.insert(a.Connections,aC.MouseButton1Click:Connect(function()at="Toggle"UpdateSelectedButton()aA.Visible=false end))end;if aD then table.insert(a.Connections,aD.MouseButton1Click:Connect(function()at="Hold"UpdateSelectedButton()aA.Visible=false end))end;if aE then table.insert(a.Connections,aE.MouseButton1Click:Connect(function()am.Keybind.Text="[ NONE ]"av="NONE"aA.Visible=false end))end;table.insert(a.Connections,am.Keybind.MouseButton2Click:Connect(function()if aA then aA.Visible=not aA.Visible;aA.Position=UDim2.new(0,am.Keybind.AbsolutePosition.X-am.AbsolutePosition.X,1,5)end end))table.insert(a.Connections,am.Keybind.InputBegan:Connect(function(aF)if aF.UserInputType==Enum.UserInputType.MouseButton1 or aF.UserInputType==Enum.UserInputType.Touch then az=tick()am.Keybind.Text="[ ... ]"au=true;ax=false;ay=nil;local aG=g:Create(am.Keybind,TweenInfo.new(0.5,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut,-1,true),{TextTransparency=0.5})aG:Play()local aH;aH=am.Keybind:GetPropertyChangedSignal"Text":Connect(function()if am.Keybind.Text~="[ ... ]"then aG:Cancel()am.Keybind.TextTransparency=0;aH:Disconnect()end end)table.insert(a.Connections,aH)end end))table.insert(a.Connections,am.Keybind:GetPropertyChangedSignal"TextBounds":Connect(function()am.Keybind.Size=UDim2.new(0,am.Keybind.TextBounds.X,1,0)UpdateTitleSize()end))table.insert(a.Connections,f.InputBegan:Connect(function(aF)if f:GetFocusedTextBox()==nil then local aG=GetInputName(aF)if au and aG then local aH=tick()if IsMouseButton(aG)and(aH-az)<0.2 then return end;if not ax then if not table.find(aw,aG)then ax=true;ay=aG;am.Keybind.Text="[ Press again... ]"else am.Keybind.Text="[ NONE ]"av="NONE"au=false;ax=false;ay=nil end else if aG==ay then am.Keybind.Text="[ "..aG.." ]"av=aG;if as then as(aG)end;au=false;ax=false;ay=nil else am.Keybind.Text="[ NONE ]"av="NONE"au=false;ax=false;ay=nil end end elseif aG and aG==av and av~="NONE"then if at=="Toggle"then an=not an;SetState(an)if as then as(aG)end elseif at=="Hold"then SetState(true)if as then as(aG)end end end end end))table.insert(a.Connections,f.InputEnded:Connect(function(aF)if at=="Hold"then local aG=GetInputName(aF)if aG==av and av~="NONE"then SetState(false)end end end))function _.SetBind(aF,aG)local aH;if typeof(aG)=="EnumItem"then aH=tostring(aG):gsub("Enum.KeyCode.","")elseif typeof(aG)=="string"then aH=aG else aH="NONE"end;am.Keybind.Text="[ "..aH.." ]"av=aH end;function _.GetBind(aF)if IsMouseButton(av)then return av else local aG,aH=pcall(function()return Enum.KeyCode[av]end)return aG and aH or Enum.KeyCode.Unknown end end;function _.SetMode(aF,aG)if aG=="Toggle"or aG=="Hold"then at=aG;UpdateSelectedButton()end end;function _.GetMode(aF)return at end;ap=_;return _ end;function ah.GetKeybind(aq)return ap end;function ah.SetVisible(aq,ar)if am and am.Parent then am.Visible=ar end end;function ah.IsVisible(aq)return am and am.Parent and am.Visible end;function ah.ToggleVisibility(aq)if am and am.Parent then am.Visible=not am.Visible;return am.Visible end;return false end;am.Title.TextWrapped=ag or false;if ag then am.Title.AutomaticSize=Enum.AutomaticSize.Y;am.Size=UDim2.new(1,-10,0,0)am.AutomaticSize=Enum.AutomaticSize.Y else am.Title.AutomaticSize=Enum.AutomaticSize.None end;ah.Type="Toggle"ah.UniqueID=ai;d.Anka.Elements[ai]=ah;SetState(aj)return ah end;function O.CreateSlider(aa,ab,ac,ad,ae,af,ag,ah)local ai={}d.Anka.ElementCounter+=1;local aj=ab.." - "..d.Anka.ElementCounter;local ak=ae or 50;local al=r.Slider:Clone()al.Name=ab.." S"al.Parent=P.Container;a.Connections=a.Connections or{}al.Title.Text=ab;al.Slider.Bar.Size=UDim2.new(ac/ad,0,1,0)al.Slider.Bar.BackgroundColor3=o.Color;al.Value.PlaceholderText=tostring(ac/ad)al.Title.Size=UDim2.new(1,0,0,al.Title.TextBounds.Y+5)al.Size=UDim2.new(1,-10,0,al.Title.TextBounds.Y+15)table.insert(a.ColorTable,al.Slider.Bar)al.Value.ClearTextOnFocus=false;al.Value.TextEditable=true;al.Value.ZIndex=10;local am=al.Slider.Bar.GlowEffect;table.insert(a.ColorTable,am)if al.Slider.Bar:FindFirstChild"UICorner"then local an=al.Slider.Bar.UICorner:Clone()an.CornerRadius=UDim.new(0,an.CornerRadius.Offset+2)an.Parent=am end;local an=TweenInfo.new(0.4,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut,-1,true,0)local function playGlow()if not al or not al.Parent then return end;local ao=g:Create(am,an,{BackgroundTransparency=0.7})ao:Play()return ao end;local function stopGlow()if not al or not al.Parent then return end;g:Create(am,TweenInfo.new(0.2),{BackgroundTransparency=1}):Play()end;local ao=0;local ap=false;local function Sliding(aq)if not al or not al.Parent then return end;local ar=UDim2.new(math.clamp((aq.Position.X-al.Slider.AbsolutePosition.X)/al.Slider.AbsoluteSize.X,0,1),0,1,0)al.Slider.Bar.Size=ar;local as=((ar.X.Scale*ad)/ad)*(ad-ac)+ac;local at=math.floor(((ar.X.Scale*ad)/ad)*(ad-ac)+ac)local au=af and at or as;au=tonumber(string.format("%.2f",au))ao=au;al.Value.PlaceholderText=tostring(au)ag(ao)end;local function SetValue(aq)if not al or not al.Parent then return end;ao=aq;al.Slider.Bar.Size=UDim2.new(aq/ad,0,1,0)al.Value.PlaceholderText=tostring(aq)ag(aq)end;table.insert(a.Connections,al.Value.FocusLost:Connect(function()if not al or not al.Parent then return end;local aq=al.Value.Text;local ar=tonumber(aq)if aq==""or not ar then al.Value.Text=""return end;ar=math.clamp(ar,ac,ad)if af then ar=math.floor(ar)else ar=tonumber(string.format("%.2f",ar))end;ao=ar;al.Slider.Bar.Size=UDim2.new(ar/ad,0,1,0)al.Value.PlaceholderText=tostring(ar)ag(ar)al.Value.Text=""end))local aq=false;table.insert(a.Connections,al.Value.InputBegan:Connect(function(ar)if ar.UserInputType==Enum.UserInputType.MouseButton1 or ar.UserInputType==Enum.UserInputType.Touch then aq=true;al.Value:CaptureFocus()end end))table.insert(a.Connections,al.Value.InputEnded:Connect(function(ar)if ar.UserInputType==Enum.UserInputType.MouseButton1 or ar.UserInputType==Enum.UserInputType.Touch then aq=false end end))table.insert(a.Connections,al.InputBegan:Connect(function(ar)if not al or not al.Parent then return end;if f:GetFocusedTextBox()==nil and not aq then if ar.UserInputType==Enum.UserInputType.MouseButton1 or ar.UserInputType==Enum.UserInputType.Touch then Sliding(ar)ap=true;playGlow()end end end))table.insert(a.Connections,al.InputEnded:Connect(function(ar)if not al or not al.Parent then return end;if ar.UserInputType==Enum.UserInputType.MouseButton1 or ar.UserInputType==Enum.UserInputType.Touch then ap=false;stopGlow()end end))table.insert(a.Connections,f.InputChanged:Connect(function(ar)if not al or not al.Parent then return end;if ar.UserInputType==Enum.UserInputType.MouseMovement or ar.UserInputType==Enum.UserInputType.Touch then if ap then Sliding(ar)end end end))table.insert(a.Connections,al.MouseEnter:Connect(function()if not al or not al.Parent then return end;if not ap then playGlow()end end))table.insert(a.Connections,al.MouseLeave:Connect(function()if not al or not al.Parent then return end;if not ap then stopGlow()end end))function ai.SetValue(ar,as)SetValue(as)end;function ai.GetValue(ar)return ao end;function ai.SetVisible(ar,as)if al and al.Parent then al.Visible=as end end;function ai.IsVisible(ar)return al and al.Parent and al.Visible end;function ai.ToggleVisibility(ar)if al and al.Parent then al.Visible=not al.Visible;return al.Visible end;return false end;function ai.UpdateColors(ar)if al and al.Parent then al.Slider.Bar.BackgroundColor3=o.Color;am.BackgroundColor3=o.Color end end;al.Title.TextWrapped=ah or false;if ah then al.Title.AutomaticSize=Enum.AutomaticSize.Y;al.Title.Size=UDim2.new(1,0,0,0)al.AutomaticSize=Enum.AutomaticSize.Y else al.Title.AutomaticSize=Enum.AutomaticSize.None end;SetValue(ak)ai.Type="Slider"ai.UniqueID=aj;d.Anka.Elements[aj]=ai;return ai end;function O.CreateDropdown(aa,ab,ac,ad,ae,af,ag,ah)local ai={}d.Anka.ElementCounter+=1;local aj=ab.." - "..d.Anka.ElementCounter;local ak=r.Dropdown:Clone()ak.Name=ab..(af and" MD"or" D")ak.Parent=P.Container;a.Connections=a.Connections or{}local al=r.SearchOption:Clone()al.Name="SearchBar"al.Parent=ak.Container.Holder.Container;al.PlaceholderText="Search options..."al.BackgroundColor3=ak.BackgroundColor3;al.BackgroundTransparency=1;al.BorderSizePixel=0;al.TextColor3=Color3.fromRGB(200,200,200)al.PlaceholderColor3=Color3.fromRGB(150,150,150)al.Size=UDim2.new(1,0,0,al.TextBounds.Y+5)ak.Title.Text=ab;ak.Title.Size=UDim2.new(1,0,0,ak.Title.TextBounds.Y+5)ak.Container.Position=UDim2.new(0,0,0,ak.Title.TextBounds.Y+5)ak.Size=UDim2.new(1,-10,0,ak.Title.TextBounds.Y+25)ak.Container.Holder.Size=UDim2.new(1,-5,0,0)ak.Container.Holder.Visible=false;local am=false;local an={}local ao;local ap=false;local aq={}local ar=ak.Title.TextBounds.Y+25;local as=0;local at=0;local au=TweenInfo.new(0.4,Enum.EasingStyle.Quint,Enum.EasingDirection.Out)local av=TweenInfo.new(0.15,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)local function PreCalculateSizes()at=ak.Container.Holder.Container.ListLayout.AbsoluteContentSize.Y;as=at+ar+5 end;local function HighlightText(aw,ax,ay)if ax==""then aw.Text=ay;aw.TextColor3=Color3.fromRGB(200,200,200)return end;local az=string.lower(ay)local aA=string.lower(ax)local aB,aC=string.find(az,aA,1,true)if aB then local aD=string.sub(ay,1,aB-1)local aE=string.sub(ay,aB,aC)local aF=string.sub(ay,aC+1)local aG=math.floor(o.Color.R*255)local aH=math.floor(o.Color.G*255)local R=math.floor(o.Color.B*255)local S=string.format("#%02x%02x%02x",aG,aH,R)aw.RichText=true;aw.Text=aD..'<font color="'..S..'"><b>'..aE.."</b></font>"..aF else aw.RichText=false;aw.Text=ay;aw.TextColor3=Color3.fromRGB(200,200,200)end end;local function FilterOptions(aw)local ax=1;for ay,az in pairs(aq)do if az and az.Parent then local aA=aw==""or string.find(string.lower(az.Name),string.lower(aw),1,true)az.Visible=aA;if aA then ax=ax+1;HighlightText(az.Title,aw,az.Name)end end end;task.wait()PreCalculateSizes()if am then g:Create(ak,au,{Size=UDim2.new(1,-10,0,as)}):Play()g:Create(ak.Container.Holder,au,{Size=UDim2.new(1,-5,0,at)}):Play()end end;table.insert(a.Connections,al.Changed:Connect(function(aw)if aw=="Text"then FilterOptions(al.Text)end end))local function ClearSearch()al.Text=""for aw,ax in pairs(aq)do if ax and ax.Parent then ax.Title.RichText=false;ax.Title.Text=ax.Name;ax.Title.TextColor3=Color3.fromRGB(200,200,200)end end;FilterOptions""end;local function UpdateText()if af then local aw={}local ax=0;for ay,az in next,an do if az then table.insert(aw,ay)ax+=1 end end;if ax==0 then ak.Container.Value.Text="None"return end;if ax>1 then ak.Container.Value.Text=string.format("%d selected",ax)else ak.Container.Value.Text=aw[1]end end end;local function UpdateOptionVisual(aw,ax,ay)local az=ax and 0.7 or 1;local aA=ax and Color3.fromRGB(255,255,255)or Color3.fromRGB(200,200,200)if ay then aw.BackgroundTransparency=az;aw.Title.TextColor3=aA else g:Create(aw,av,{BackgroundTransparency=az}):Play()g:Create(aw.Title,av,{TextColor3=aA}):Play()end end;local function UpdateSingleSelection(aw,ax)for ay,az in next,aq do if az and az.Parent then local aA=az.Name==aw;UpdateOptionVisual(az,aA,ax)if aA then ao=aw;ak.Container.Value.Text=aw end end end end;local function SetOptionsVisibility(aw)al.TextTransparency=aw and 0 or 1;al.BackgroundTransparency=1;for ax,ay in next,aq do if ay and ay.Parent then ay.Title.TextTransparency=aw and 0 or 1;if af then ay.BackgroundTransparency=aw and(an[ay.Name]and 0.7 or 1)or 1 else ay.BackgroundTransparency=aw and(ao==ay.Name and 0.7 or 1)or 1 end end end end;local function UpdateDropdownSize()if am then PreCalculateSizes()g:Create(ak,au,{Size=UDim2.new(1,-10,0,as)}):Play()g:Create(ak.Container.Holder,au,{Size=UDim2.new(1,-5,0,at)}):Play()end end;table.insert(a.Connections,ak.MouseButton1Click:Connect(function()if not ak or not ak.Parent then return end;if ap then return end;ap=true;am=not am;if am then PreCalculateSizes()ak.Container.Holder.Visible=true;ak.Container.Holder.ClipsDescendants=true;SetOptionsVisibility(true)local aw=g:Create(ak,au,{Size=UDim2.new(1,-10,0,as),BackgroundTransparency=0.95})local ax=g:Create(ak.Container.Holder,au,{Size=UDim2.new(1,-5,0,at)})aw:Play()ax:Play()else SetOptionsVisibility(false)ClearSearch()local aw=g:Create(ak,au,{Size=UDim2.new(1,-10,0,ar),BackgroundTransparency=1})local ax=g:Create(ak.Container.Holder,au,{Size=UDim2.new(1,-5,0,0)})aw:Play()ax:Play()end;local aw;aw=j.Heartbeat:Connect(function()if(not am and math.abs(ak.Size.Y.Offset-ar)<1)or(am and math.abs(ak.Size.Y.Offset-as)<1)then aw:Disconnect()if not am then ak.Container.Holder.Visible=false end;ap=false end end)end))table.insert(a.Connections,ak.MouseEnter:Connect(function()if not ak or not ak.Parent then return end;g:Create(ak,av,{BackgroundTransparency=am and 0.9 or 0.97}):Play()end))table.insert(a.Connections,ak.MouseLeave:Connect(function()if not ak or not ak.Parent then return end;g:Create(ak,av,{BackgroundTransparency=am and 0.95 or 1}):Play()end))local function AddOptionConnections(aw,ax,ay)if af then table.insert(a.Connections,aw.MouseButton1Up:Connect(function()if not aw or not aw.Parent then return end;local az=g:Create(aw,TweenInfo.new(0.1,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{Size=UDim2.new(ay.X.Scale,ay.X.Offset-2,ay.Y.Scale,ay.Y.Offset)})local aA=g:Create(aw,TweenInfo.new(0.1,Enum.EasingStyle.Back,Enum.EasingDirection.Out),{Size=ay})az:Play()az.Completed:Wait()aA:Play()an[ax]=not an[ax]UpdateOptionVisual(aw,an[ax])UpdateText()local aB={}for aC,aD in next,an do if aD then table.insert(aB,aC)end end;local aC=ad(aB)if type(aC)=="table"then an={}for aD,aE in next,aC do an[aE]=true end;for aD,aE in next,aq do if aE and aE.Parent then UpdateOptionVisual(aE,an[aE.Name])end end;UpdateText()end end))table.insert(a.Connections,aw.MouseEnter:Connect(function()if not aw or not aw.Parent then return end;if not an[ax]then g:Create(aw,av,{BackgroundTransparency=0.85,Size=UDim2.new(ay.X.Scale,ay.X.Offset,ay.Y.Scale,ay.Y.Offset+1)}):Play()end end))table.insert(a.Connections,aw.MouseLeave:Connect(function()if not aw or not aw.Parent then return end;g:Create(aw,av,{Size=ay,BackgroundTransparency=an[ax]and 0.7 or 1}):Play()end))else table.insert(a.Connections,aw.MouseButton1Click:Connect(function()if not aw or not aw.Parent then return end;local az=g:Create(aw,TweenInfo.new(0.1,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{Size=UDim2.new(ay.X.Scale,ay.X.Offset-2,ay.Y.Scale,ay.Y.Offset)})local aA=g:Create(aw,TweenInfo.new(0.1,Enum.EasingStyle.Back,Enum.EasingDirection.Out),{Size=ay})az:Play()az.Completed:Wait()aA:Play()UpdateSingleSelection(ax)ad(ax)end))table.insert(a.Connections,aw.MouseEnter:Connect(function()if not aw or not aw.Parent then return end;if ao~=ax then g:Create(aw,av,{BackgroundTransparency=0.85,Size=UDim2.new(ay.X.Scale,ay.X.Offset,ay.Y.Scale,ay.Y.Offset+1)}):Play()end end))table.insert(a.Connections,aw.MouseLeave:Connect(function()if not aw or not aw.Parent then return end;g:Create(aw,av,{Size=ay,BackgroundTransparency=ao==ax and 0.7 or 1}):Play()end))end end;for aw,ax in next,ac do local ay=r.Option:Clone()ay.Name=ax;ay.Parent=ak.Container.Holder.Container;ay.Title.Text=ax;ay.BackgroundColor3=o.Color;ay.Size=UDim2.new(1,0,0,ay.Title.TextBounds.Y+5)table.insert(a.ColorTable,ay)table.insert(aq,ay)local az=ay.Size;if af then if ae and type(ae)=="table"then for aA,aB in next,ae do if aB==ax then an[ax]=true;break end end end;UpdateOptionVisual(ay,an[ax],true)else if ae and ae==ax then UpdateSingleSelection(ax,true)end end;AddOptionConnections(ay,ax,az)end;task.spawn(function()wait()PreCalculateSizes()if ae then if af and type(ae)=="table"then for aw,ax in next,ae do an[ax]=true end;UpdateText()elseif not af then for aw,ax in next,ac do if ax==ae then UpdateSingleSelection(ae,true)ad(ae)break end end end end end)function ai.UpdateColors(aw)if al and al.Text~=""then FilterOptions(al.Text)end end;function ai.GetOption(aw)if af then local ax={}for ay,az in next,an do if az then table.insert(ax,ay)end end;return ax else return ao or""end end;function ai.SetOption(aw,ax)if af then an={}if type(ax)=="table"then for ay,az in next,ax do an[az]=true end end;for ay,az in next,aq do if az and az.Parent then UpdateOptionVisual(az,an[az.Name])end end;UpdateText()else if ax then UpdateSingleSelection(ax)end end;ad(ax)end;function ai.SetVisible(aw,ax)if ak and ak.Parent then ak.Visible=ax end end;function ai.IsVisible(aw)return ak and ak.Parent and ak.Visible end;function ai.ToggleVisibility(aw)if ak and ak.Parent then ak.Visible=not ak.Visible;return ak.Visible end;return false end;function ai.ClearOptions(aw)for ax,ay in next,aq do if ay and ay.Parent then ay:Destroy()end end;aq={}if not ah then if af then an={}ak.Container.Value.Text="None"else ao=nil;ak.Container.Value.Text=""end else UpdateText()end;UpdateDropdownSize()end;function ai.AddOption(aw,ax,ay)if type(ax)=="table"then for az,aA in next,ax do aw:AddOption(tostring(aA),ay)end;UpdateDropdownSize()return end;local az=tostring(ax)for aA,aB in next,aq do if aB and aB.Parent and aB.Name==az then return end end;local aA=r.Option:Clone()aA.Name=az;aA.Parent=ak.Container.Holder.Container;aA.Title.Text=az;aA.BackgroundColor3=o.Color;aA.Size=UDim2.new(1,0,0,aA.Title.TextBounds.Y+5)table.insert(a.ColorTable,aA)table.insert(aq,aA)local aB=aA.Size;if af then if an[az]==nil then an[az]=false end;if ay then an[az]=true end;UpdateOptionVisual(aA,an[az],true)else if ay then UpdateSingleSelection(az,true)elseif ao==az then UpdateOptionVisual(aA,true,true)end end;AddOptionConnections(aA,az,aB)if af then UpdateText()end;UpdateDropdownSize()if al.Text~=""then FilterOptions(al.Text)end end;function ai.RemoveOption(aw,ax)local ay=tostring(ax)for az,aA in next,aq do if aA and aA.Parent and aA.Name==ay then aA:Destroy()table.remove(aq,az)break end end;if not ah then if af then an[ay]=nil;UpdateText()else if ao==ay then ao=nil;ak.Container.Value.Text=""end end else UpdateText()end;UpdateDropdownSize()end;function ai.ChangeOptions(aw,ax,ay)aw:ClearOptions()aw:AddOption(ax)if ay then aw:SetOption(ay)end end;ak.Title.TextWrapped=ag or false;if ag then ak.Title.AutomaticSize=Enum.AutomaticSize.Y;ak.Title.Size=UDim2.new(1,0,0,0)ak.Container.Position=UDim2.new(0,0,0,ak.Title.TextBounds.Y+5)ak.Size=UDim2.new(1,-10,0,ak.Title.TextBounds.Y+25)else ak.Title.AutomaticSize=Enum.AutomaticSize.None end;ai.Type=af and"MultiDropdown"or"Dropdown"ai.UniqueID=aj;d.Anka.Elements[aj]=ai;return ai end;function O.CreateColorpicker(aa,ab,ac,ad,ae,af)local ag={}d.Anka.ElementCounter+=1;local ah=ab.." - "..d.Anka.ElementCounter;local ai=r.Colorpicker:Clone()local aj=r.Palette:Clone()aj.Name=ab.." P "..d.Anka.ElementCounter;a.Connections=a.Connections or{}if af and af.Type=="Toggle"then local ak;for al,am in next,P.Container:GetChildren()do if am.Name==af.UniqueID:gsub(" %- %d+","").." T"then ak=am;break end end;if ak then a.Connections=a.Connections or{}local al=0;for am,an in next,ak:GetChildren()do if an.Name=="ColorIndicator"then al=al+1 end end;local am=Instance.new"Frame"am.Name="ColorIndicator"am.Size=UDim2.new(0,16,0,8)local an=ak.Title.TextBounds.X+20;local ao=20;am.Position=UDim2.new(0,an+(al*ao),0.5,2)am.AnchorPoint=Vector2.new(0,0.5)am.BackgroundColor3=o.Color or Color3.fromRGB(0,162,255)am.BorderSizePixel=0;am.BorderColor3=Color3.fromRGB(0,0,0)am.Parent=ak;am.ZIndex=3;local ap=Instance.new"UIGradient"ap.Name="Gradient"ap.Rotation=90;ap.Color=ColorSequence.new{ColorSequenceKeypoint.new(0.000,Color3.fromRGB(255,255,255)),ColorSequenceKeypoint.new(1.000,Color3.fromRGB(182,182,182))}ap.Parent=am;local aq=Instance.new"Frame"aq.Name="GlowEffect"aq.Size=UDim2.new(1,2,1,2)aq.Position=UDim2.new(0,-1,0,-1)aq.BackgroundColor3=am.BackgroundColor3;aq.BackgroundTransparency=0.8;aq.BorderSizePixel=0;aq.Parent=am;aq.ZIndex=am.ZIndex-1;aj.Name=ab.." P "..d.Anka.ElementCounter;aj.Parent=s;aj.Visible=false;local ar=Instance.new"TextButton"ar.Name="RainbowToggle"ar.Parent=aj;ar.AnchorPoint=Vector2.new(1,0)ar.Size=UDim2.new(0,20,0,20)ar.Position=UDim2.new(1,25,0,2)ar.BackgroundColor3=Color3.fromRGB(45,45,45)ar.BorderSizePixel=0;ar.BorderColor3=Color3.fromRGB(60,60,60)ar.Text="-"ar.TextColor3=Color3.fromRGB(255,255,255)ar.TextScaled=true;ar.Font=Enum.Font.Gotham;ar.ZIndex=3;table.insert(a.ColorTable,ar)ag.RainbowToggle=ar;local as={Hue=1,Saturation=0,Value=1}local at=0;local au;local av;local aw;local ax;local ay;local az=false;local aA;local aB=aj.GradientPalette;local aC=aj.ColorSlider;local aD=aj.TransparencySlider;local aE=aj.ColorPreview;local aF=aj.InputFrame.InputBox;local aG=aB.Dot;local function UpdateColor()if not ak or not ak.Parent then return end;local aH=Color3.fromHSV(as.Hue,as.Saturation,as.Value)am.BackgroundColor3=aH;aq.BackgroundColor3=aH;aB.BackgroundColor3=Color3.fromHSV(as.Hue,1,1)aE.BackgroundColor3=aH;aE.BackgroundTransparency=at;local R,S,T=math.round(aH.R*255),math.round(aH.G*255),math.round(aH.B*255)local U=math.round((1-at)*255)aF.PlaceholderText=string.format("RGBA: %d, %d, %d, %d",R,S,T,U)aG.Position=UDim2.new(as.Saturation,0,1-as.Value,0)ac(aH,at)if ad then ChangeColor(aH,at)end end;local function ihatemyself(aH)local R=aj.AbsolutePosition;local S=aj.AbsoluteSize;return aH.X>=R.X and aH.X<=R.X+S.X and aH.Y>=R.Y and aH.Y<=R.Y+S.Y end;local function closePalette()aj.Visible=false;if ax then ax:Disconnect()ax=nil end;if aA then aA:Disconnect()aA=nil end end;local function blehh()if aA then aA:Disconnect()end;aA=f.InputBegan:Connect(function(aH,R)if not R and aj.Visible then local S;if aH.UserInputType==Enum.UserInputType.MouseButton1 then S=f:GetMouseLocation()elseif aH.UserInputType==Enum.UserInputType.Touch then S=aH.Position else return end;if not ihatemyself(S)then closePalette()end end end)table.insert(a.Connections,aA)end;table.insert(a.Connections,ar.MouseButton1Click:Connect(function()az=not az;if az then ar.BackgroundColor3=o.Color or Color3.fromRGB(0,162,255)ar.BackgroundTransparency=o.Transparency or 0;ar.Text="+"ay=j.PreRender:Connect(function()if not ak or not ak.Parent then if ay then ay:Disconnect()ay=nil end;return end;as.Hue=(tick()*0.5)%1;as.Saturation=1;as.Value=1;UpdateColor()end)else ar.BackgroundColor3=Color3.fromRGB(45,45,45)ar.BackgroundTransparency=0;ar.Text="-"if ay then ay:Disconnect()ay=nil end end end))table.insert(a.Connections,am.InputBegan:Connect(function(aH)if aH.UserInputType==Enum.UserInputType.MouseButton1 or aH.UserInputType==Enum.UserInputType.Touch then if not aj.Visible then ax=j.PreRender:Connect(function()if not ak or not ak.Parent then if ax then ax:Disconnect()ax=nil end;return end;local R=am.AbsolutePosition;aj.Position=UDim2.new(0,R.X-129,0,R.Y+20)end)aj.Visible=true;blehh()else closePalette()end end end))table.insert(a.Connections,am.MouseEnter:Connect(function()g:Create(aq,TweenInfo.new(0.2,Enum.EasingStyle.Quad),{BackgroundTransparency=0.4}):Play()end))table.insert(a.Connections,am.MouseLeave:Connect(function()g:Create(aq,TweenInfo.new(0.2,Enum.EasingStyle.Quad),{BackgroundTransparency=0.8}):Play()end))local function getananddRelativePosition(aH,R)local S;if aH.UserInputType==Enum.UserInputType.Touch then S=aH.Position else S=f:GetMouseLocation()end;local T=R.AbsolutePosition;local U=R.AbsoluteSize;return Vector2.new((S.X-T.X)/U.X,(S.Y-T.Y)/U.Y)end;local function fakuroblox(aH,R)local S=f:GetMouseLocation()return Vector2.new((S.X-R.AbsolutePosition.X)/R.AbsoluteSize.X,((S.Y-60)-R.AbsolutePosition.Y)/R.AbsoluteSize.Y)end;table.insert(a.Connections,aB.InputBegan:Connect(function(aH)if not ak or not ak.Parent then return end;if f:GetFocusedTextBox()==nil then if aH.UserInputType==Enum.UserInputType.MouseButton1 then if az then az=false;ar.BackgroundColor3=Color3.fromRGB(45,45,45)ar.Text="-"if ay then ay:Disconnect()end end;if au then au:Disconnect()end;au=j.PreRender:Connect(function()if not ak or not ak.Parent then if au then au:Disconnect()au=nil end;return end;local R=fakuroblox(aH,aB)local S=math.clamp(R.X,0,1)local T=math.clamp(R.Y,0,1)aG.Position=UDim2.new(S,0,T,0)as.Saturation=S;as.Value=1-T;UpdateColor()end)elseif aH.UserInputType==Enum.UserInputType.Touch then if az then az=false;ar.BackgroundColor3=Color3.fromRGB(45,45,45)ar.Text="-"if ay then ay:Disconnect()end end;if au then au:Disconnect()end;au=j.PreRender:Connect(function()if not ak or not ak.Parent then if au then au:Disconnect()au=nil end;return end;local R=getananddRelativePosition(aH,aB)local S=math.clamp(R.X,0,1)local T=math.clamp(R.Y,0,1)aG.Position=UDim2.new(S,0,T,0)as.Saturation=S;as.Value=1-T;UpdateColor()end)end end end))table.insert(a.Connections,aB.InputEnded:Connect(function(aH)if aH.UserInputType==Enum.UserInputType.MouseButton1 or aH.UserInputType==Enum.UserInputType.Touch then if au then au:Disconnect()end end end))table.insert(a.Connections,aC.InputBegan:Connect(function(aH)if not ak or not ak.Parent then return end;if f:GetFocusedTextBox()==nil then if aH.UserInputType==Enum.UserInputType.MouseButton1 or aH.UserInputType==Enum.UserInputType.Touch then if az then az=false;ar.BackgroundColor3=Color3.fromRGB(45,45,45)ar.Text="-"if ay then ay:Disconnect()ay=nil end end;if av then av:Disconnect()end;av=j.PreRender:Connect(function()if not ak or not ak.Parent then if av then av:Disconnect()av=nil end;return end;local R=getananddRelativePosition(aH,aC)as.Hue=1-math.clamp(R.X,0,1)UpdateColor()end)end end end))table.insert(a.Connections,aC.InputEnded:Connect(function(aH)if aH.UserInputType==Enum.UserInputType.MouseButton1 or aH.UserInputType==Enum.UserInputType.Touch then if av then av:Disconnect()end end end))table.insert(a.Connections,aD.InputBegan:Connect(function(aH)if not ak or not ak.Parent then return end;if f:GetFocusedTextBox()==nil then if aH.UserInputType==Enum.UserInputType.MouseButton1 or aH.UserInputType==Enum.UserInputType.Touch then if aw then aw:Disconnect()end;aw=j.PreRender:Connect(function()if not ak or not ak.Parent then if aw then aw:Disconnect()aw=nil end;return end;local R=getananddRelativePosition(aH,aD)at=math.clamp(R.X,0,1)UpdateColor()end)end end end))table.insert(a.Connections,aD.InputEnded:Connect(function(aH)if aH.UserInputType==Enum.UserInputType.MouseButton1 or aH.UserInputType==Enum.UserInputType.Touch then if aw then aw:Disconnect()end end end))local function UpdateTransparencySlider()if not ak or not ak.Parent then return end;aD.BackgroundColor3=Color3.fromHSV(as.Hue,as.Saturation,as.Value)end;table.insert(a.Connections,aF.FocusLost:Connect(function(aH)if not ak or not ak.Parent then return end;if aH then local R=string.gsub(aF.Text," ","")local S=string.split(R,",")if#S>=3 then local T=math.clamp(tonumber(S[1])or 255,0,255)local U=math.clamp(tonumber(S[2])or 0,0,255)local V=math.clamp(tonumber(S[3])or 0,0,255)local W=255;if#S>=4 then W=math.clamp(tonumber(S[4])or 255,0,255)end;local X=Color3.fromRGB(T,U,V)local Y=1-(W/255)ag:UpdateColor(X,Y)end;aF.Text=""end end))function ag.UpdateColor(aH,R,S)if not ak or not ak.Parent then return end;S=S or 0;if az then az=false;ar.BackgroundColor3=Color3.fromRGB(45,45,45)ar.BackgroundTransparency=0;ar.Text="-"if ay then ay:Disconnect()ay=nil end end;local T,U,V=R:ToHSV()as={Hue=T,Saturation=U,Value=V}at=S;UpdateColor()UpdateTransparencySlider()end;function ag.GetValue(aH)return am.BackgroundColor3,at end;function ag.GetColor(aH)return am.BackgroundColor3 end;function ag.GetTransparency(aH)return at end;function ag.SetVisible(aH,R)am.Visible=R end;function ag.IsVisible(aH)return am.Visible end;function ag.ToggleVisibility(aH)am.Visible=not am.Visible;return am.Visible end;function ag.ClosePallete(aH)closePalette()end;function ag.SetTransparency(aH,R)at=math.clamp(R,0,1)UpdateColor()end;function ag.IsRainbowEnabled(aH)return az end;function ag.SetRainbow(aH,R)if R~=az then ar.MouseButton1Click:Fire()end end;UpdateColor()UpdateTransparencySlider()ag.Type="AttachedColorPicker"ag.UniqueID=ah;ag.IsAccentColorpicker=ad or false;d.Anka.Elements[ah]=ag;return ag end end;ai.Name=ab.." CP"ai.Parent=P.Container;ai.Title.Text=ab;ai.Size=UDim2.new(1,-10,0,ai.Title.TextBounds.Y+5)aj.Name=ab.." P "..d.Anka.ElementCounter;aj.Parent=s;aj.Visible=false;local ak=Instance.new"TextButton"ak.Name="RainbowToggle"ak.Parent=aj;ak.AnchorPoint=Vector2.new(1,0)ak.Size=UDim2.new(0,20,0,20)ak.Position=UDim2.new(1,25,0,2)ak.BackgroundColor3=Color3.fromRGB(45,45,45)ak.BorderSizePixel=0;ak.BorderColor3=Color3.fromRGB(60,60,60)ak.Text="-"ak.TextColor3=Color3.fromRGB(255,255,255)ak.TextScaled=true;ak.Font=Enum.Font.Gotham;ak.ZIndex=3;table.insert(a.ColorTable,ak)ag.RainbowToggle=ak;local al={Hue=1,Saturation=0,Value=1}local am=0;local an;local ao;local ap;local aq;local ar;local as=false;local at;local au=aj.GradientPalette;local av=aj.ColorSlider;local aw=aj.TransparencySlider;local ax=aj.ColorPreview;local ay=aj.InputFrame.InputBox;local az=au.Dot;local function UpdateColor()local aA=Color3.fromHSV(al.Hue,al.Saturation,al.Value)ai.Color.BackgroundColor3=aA;au.BackgroundColor3=Color3.fromHSV(al.Hue,1,1)ax.BackgroundColor3=aA;ax.BackgroundTransparency=am;local aB,aC,aD=math.round(aA.R*255),math.round(aA.G*255),math.round(aA.B*255)local aE=math.round((1-am)*255)ay.PlaceholderText=string.format("RGBA: %d, %d, %d, %d",aB,aC,aD,aE)az.Position=UDim2.new(al.Saturation,0,1-al.Value,0)ac(aA,am)if ad then ChangeColor(aA,am)end end;local function ihatemyself(aA)local aB=aj.AbsolutePosition;local aC=aj.AbsoluteSize;return aA.X>=aB.X and aA.X<=aB.X+aC.X and aA.Y>=aB.Y and aA.Y<=aB.Y+aC.Y end;local function closePalette()aj.Visible=false;if aq then aq:Disconnect()aq=nil end;if at then at:Disconnect()at=nil end end;local function blehh()if at then at:Disconnect()end;at=f.InputBegan:Connect(function(aA,aB)if not aB and aj.Visible then local aC;if aA.UserInputType==Enum.UserInputType.MouseButton1 then aC=f:GetMouseLocation()elseif aA.UserInputType==Enum.UserInputType.Touch then aC=aA.Position else return end;if not ihatemyself(aC)then closePalette()end end end)end;table.insert(a.Connections,ak.MouseButton1Click:Connect(function()as=not as;if as then ak.BackgroundColor3=o.Color or Color3.fromRGB(0,162,255)ak.BackgroundTransparency=o.Transparency or 0;ak.Text="+"ar=j.PreRender:Connect(function()if not ai or not ai.Parent then if ar then ar:Disconnect()ar=nil end;return end;al.Hue=(tick()*0.5)%1;al.Saturation=1;al.Value=1;UpdateColor()end)else ak.BackgroundColor3=Color3.fromRGB(45,45,45)ak.BackgroundTransparency=0;ak.Text="-"if ar then ar:Disconnect()ar=nil end end end))table.insert(a.Connections,ai.InputBegan:Connect(function(aA)if not ai or not ai.Parent then return end;if aA.UserInputType==Enum.UserInputType.MouseButton1 or aA.UserInputType==Enum.UserInputType.Touch then if not aj.Visible then aq=j.PreRender:Connect(function()if not ai or not ai.Parent then if aq then aq:Disconnect()aq=nil end;return end;local aB=ai.Color.AbsolutePosition;aj.Position=UDim2.new(0,aB.X-129,0,aB.Y+52)end)aj.Visible=true;blehh()else closePalette()end end end))local function getananddRelativePosition(aA,aB)local aC;if aA.UserInputType==Enum.UserInputType.Touch then aC=aA.Position else aC=f:GetMouseLocation()end;local aD=aB.AbsolutePosition;local aE=aB.AbsoluteSize;return Vector2.new((aC.X-aD.X)/aE.X,(aC.Y-aD.Y)/aE.Y)end;local function fakuroblox(aA,aB)local aC=f:GetMouseLocation()return Vector2.new((aC.X-aB.AbsolutePosition.X)/aB.AbsoluteSize.X,((aC.Y-60)-aB.AbsolutePosition.Y)/aB.AbsoluteSize.Y)end;table.insert(a.Connections,au.InputBegan:Connect(function(aA)if not ai or not ai.Parent then return end;if f:GetFocusedTextBox()==nil then if aA.UserInputType==Enum.UserInputType.MouseButton1 then if as then as=false;ak.BackgroundColor3=Color3.fromRGB(45,45,45)ak.Text="-"if ar then ar:Disconnect()end end;if an then an:Disconnect()end;an=j.PreRender:Connect(function()if not ai or not ai.Parent then if an then an:Disconnect()an=nil end;return end;local aB=fakuroblox(aA,au)local aC=math.clamp(aB.X,0,1)local aD=math.clamp(aB.Y,0,1)az.Position=UDim2.new(aC,0,aD,0)al.Saturation=aC;al.Value=1-aD;UpdateColor()end)elseif aA.UserInputType==Enum.UserInputType.Touch then if as then as=false;ak.BackgroundColor3=Color3.fromRGB(45,45,45)ak.Text="-"if ar then ar:Disconnect()end end;if an then an:Disconnect()end;an=j.PreRender:Connect(function()if not ai or not ai.Parent then if an then an:Disconnect()an=nil end;return end;local aB=getananddRelativePosition(aA,au)local aC=math.clamp(aB.X,0,1)local aD=math.clamp(aB.Y,0,1)az.Position=UDim2.new(aC,0,aD,0)al.Saturation=aC;al.Value=1-aD;UpdateColor()end)end end end))table.insert(a.Connections,au.InputEnded:Connect(function(aA)if aA.UserInputType==Enum.UserInputType.MouseButton1 or aA.UserInputType==Enum.UserInputType.Touch then if an then an:Disconnect()end end end))table.insert(a.Connections,av.InputBegan:Connect(function(aA)if not ai or not ai.Parent then return end;if f:GetFocusedTextBox()==nil then if aA.UserInputType==Enum.UserInputType.MouseButton1 or aA.UserInputType==Enum.UserInputType.Touch then if as then as=false;ak.BackgroundColor3=Color3.fromRGB(45,45,45)ak.Text="-"if ar then ar:Disconnect()ar=nil end end;if ao then ao:Disconnect()end;ao=j.PreRender:Connect(function()if not ai or not ai.Parent then if ao then ao:Disconnect()ao=nil end;return end;local aB=getananddRelativePosition(aA,av)al.Hue=1-math.clamp(aB.X,0,1)UpdateColor()end)end end end))table.insert(a.Connections,av.InputEnded:Connect(function(aA)if aA.UserInputType==Enum.UserInputType.MouseButton1 or aA.UserInputType==Enum.UserInputType.Touch then if ao then ao:Disconnect()end end end))table.insert(a.Connections,aw.InputBegan:Connect(function(aA)if not ai or not ai.Parent then return end;if f:GetFocusedTextBox()==nil then if aA.UserInputType==Enum.UserInputType.MouseButton1 or aA.UserInputType==Enum.UserInputType.Touch then if ap then ap:Disconnect()end;ap=j.PreRender:Connect(function()if not ai or not ai.Parent then if ap then ap:Disconnect()ap=nil end;return end;local aB=getananddRelativePosition(aA,aw)am=math.clamp(aB.X,0,1)UpdateColor()end)end end end))table.insert(a.Connections,aw.InputEnded:Connect(function(aA)if aA.UserInputType==Enum.UserInputType.MouseButton1 or aA.UserInputType==Enum.UserInputType.Touch then if ap then ap:Disconnect()end end end))local function UpdateTransparencySlider()if not ai or not ai.Parent then return end;aw.BackgroundColor3=Color3.fromHSV(al.Hue,al.Saturation,al.Value)end;function ag.UpdateColor(aA,aB,aC)aC=aC or 0;if as then as=false;ak.BackgroundColor3=Color3.fromRGB(45,45,45)ak.BackgroundTransparency=0;ak.Text="-"if ar then ar:Disconnect()ar=nil end end;local aD,aE,aF=aB:ToHSV()al={Hue=aD,Saturation=aE,Value=aF}am=aC;UpdateColor()UpdateTransparencySlider()end;function ag.UpdateColors(aA,aB,aC)if as and aB then ak.BackgroundColor3=aB;ak.BackgroundTransparency=aC or 0 end end;function ag.GetValue(aA)return ai.Color.BackgroundColor3,am end;function ag.GetColor(aA)return ai.Color.BackgroundColor3 end;function ag.GetTransparency(aA)return am end;function ag.IsRainbowEnabled(aA)return as end;function ag.SetRainbow(aA,aB)if aB~=as then ak.MouseButton1Click:Fire()end end;function ag.SetVisible(aA,aB)ai.Visible=aB end;function ag.IsVisible(aA)return ai.Visible end;function ag.ToggleVisibility(aA)ai.Visible=not ai.Visible;return ai.Visible end;function ag.ClosePallete(aA)closePalette()end;function ag.SetTransparency(aA,aB)am=math.clamp(aB,0,1)UpdateColor()end;UpdateColor()UpdateTransparencySlider()function ag.Destroy(aA)if ai and ai.Parent then ai:Destroy()end;if aj and aj.Parent then aj:Destroy()end;if an then an:Disconnect()end;if ao then ao:Disconnect()end;if ap then ap:Disconnect()end;if aq then aq:Disconnect()end;if ar then ar:Disconnect()end;if at then at:Disconnect()end;d.Anka.Elements[ah]=nil end;ai.Title.TextWrapped=ae or false;if ae then ai.Title.AutomaticSize=Enum.AutomaticSize.Y;ai.Size=UDim2.new(1,-10,0,0)ai.AutomaticSize=Enum.AutomaticSize.Y else ai.Title.AutomaticSize=Enum.AutomaticSize.None end;ag.Type="ColorPicker"ag.UniqueID=ah;ag.IsAccentColorpicker=ad or false;d.Anka.Elements[ah]=ag;return ag end;function O.CreateDivider(aa)local ab={}d.Anka.ElementCounter+=1;local ac="Divider - "..d.Anka.ElementCounter;local ad=Instance.new"Frame"ad.Name="Divider"ad.Parent=P.Container;ad.BackgroundTransparency=1;ad.Size=UDim2.new(1,-10,0,5)ad.ZIndex=3;local ae=Instance.new"Frame"ae.Name="Line"ae.Parent=ad;ae.Size=UDim2.new(1,0,1,0)ae.BackgroundColor3=Color3.fromRGB(60,60,60)ae.BorderSizePixel=0;ae.ZIndex=3;function ab.SetVisible(af,ag)ad.Visible=ag end;function ab.IsVisible(af)return ad.Visible end;function ab.ToggleVisibility(af)ad.Visible=not ad.Visible;return ad.Visible end;function ab.SetColor(af,ag)ae.BackgroundColor3=ag end;function ab.Destroy(af)if ad and ad.Parent then ad:Destroy()end;d.Anka.Elements[ac]=nil end;ab.Type="Divider"ab.UniqueID=ac;d.Anka.Elements[ac]=ab;return ab end;function O.Destroy(aa)for ab,ac in next,P.Container:GetChildren()do if ac:IsA"Frame"or ac:IsA"TextButton"then local ad=d.Anka.Elements[ac.Name:gsub(" [LBTSCPMD]$","").." - "..d.Anka.ElementCounter]if ad and ad.Destroy then ad:Destroy()else ac:Destroy()end end end;if C[P]then C[P]=nil end;P:Destroy()end;return O end;return H end;local aa=v:FindFirstChild"SearchBar".ClearButton;table.insert(a.Connections,v.SearchBar.Changed:Connect(function(ab)if ab=="Text"then aa.Visible=v.SearchBar.Text~=""end end))table.insert(a.Connections,aa.MouseButton1Click:Connect(function()v.SearchBar.Text=""end))table.insert(a.Connections,aa.TouchTap:Connect(function()v.SearchBar.Text=""end))function a.Hud(ab)local ac={}local ad=r.Hud:Clone()local ae=ad.BorderFrame1.BorderFrame2.BorderFrame3.InnerFrame.InfoText;ad.Parent=s;local af={right=10,bottom=10,left=10,top=10}ad.AnchorPoint=Vector2.new(1,0)ad.Position=UDim2.new(1,-af.right,0,af.top)ad.Visible=true;table.insert(a.ColorTable,ad.BorderFrame1.BorderFrame2.BorderFrame3.InnerFrame.GradientFrame)makedraggable(ad,ad)local function updateSize()local ag=ae.Text;if ag and ag~=""then local ah,ai=a:GetTextBounds(ag,ae.Font,ae.TextSize,Vector2.new(10000,10000))ad.Size=UDim2.new(0,ah+af.left+af.right,0,(ai*1.2)+af.top+af.bottom)ae.Position=UDim2.new(0,af.left,0,af.top)ae.Size=UDim2.new(1,-(af.left+af.right),1,-(af.top+af.bottom))end end;function ac.SetText(ag,ah)ae.Text=tostring(ah)updateSize()return ag end;function ac.SetVisibility(ag,ah)ad.Visible=ah;return ag end;function ac.GetText(ag)return ae.Text end;function ac.IsVisible(ag)return ad.Visible end;function ac.SetTextColor(ag,ah)ae.TextColor3=ah;return ag end;function ac.SetTextSize(ag,ah)ae.TextSize=ah;updateSize()return ag end;function ac.SetFont(ag,ah)ae.Font=ah;updateSize()return ag end;function ac.SetPadding(ag,ah,ai,aj,ak)af.right=ah or af.right;af.bottom=ai or af.bottom;af.left=aj or af.left;af.top=ak or af.top;ad.Position=UDim2.new(1,-af.right,0,af.top)updateSize()return ag end;function ac.SetDraggable(ag,ah)if ah and makedraggable then makedraggable(ad,ad)end;return ag end;function ac.SetPosition(ag,ah)ad.Position=ah;return ag end;function ac.GetPosition(ag)return ad.Position end;updateSize()return ac end;local ab=o.Keybind;local ac=true;table.insert(a.Connections,f.InputBegan:Connect(function(ad,ae)if f:GetFocusedTextBox()==nil and ad.KeyCode==ab and not ae then ac=not ac;y(ac)end end))function a.ChangeToggleKeybind(ad,ae)ab=ae end;local function cparticle()local ad=Instance.new"Frame"ad.Size=UDim2.new(0,2,0,2)ad.Position=UDim2.new(math.random(),0,0,-10)ad.BackgroundColor3=o.Color;ad.BorderSizePixel=0;ad.Parent=q.particlesFrame;ad.ZIndex=20;table.insert(q.particles,{frame=ad,velocity=Vector2.new(math.random(-20,20)*0.01,math.random(30,80)*0.01),life=0})end;local function uparticle(ad)for ae=#q.particles,1,-1 do local af=q.particles[ae]af.life=af.life+ad;if af.life>3 then af.frame:Destroy()table.remove(q.particles,ae)else local ag=af.frame.Position;af.frame.Position=UDim2.new(ag.X.Scale+af.velocity.X*ad,ag.X.Offset,ag.Y.Scale+af.velocity.Y*ad,ag.Y.Offset)local ah=1-(af.life/3)af.frame.BackgroundTransparency=1-ah end end end;function q.CreateParticles(ad,ae)if ae then if not ad.particles then ad.particles={}end;if not ad.particlesFrame then ad.particlesFrame=Instance.new"Frame"ad.particlesFrame.Name="ParticlesFrame"ad.particlesFrame.Size=UDim2.new(1,0,1,0)ad.particlesFrame.BackgroundTransparency=1;ad.particlesFrame.Parent=s.Main end;if not a.Connections.ParticleConnection then a.Connections.ParticleConnection=j.Heartbeat:Connect(function(af)if s and s.Main and s.Main.Visible then if math.random()<0.1 then cparticle()end;uparticle(af)end end)end else if a.Connections.ParticleConnection then a.Connections.ParticleConnection:Disconnect()a.Connections.ParticleConnection=nil end;if ad.particlesFrame then ad.particlesFrame:Destroy()ad.particlesFrame=nil end;if ad.particles then for af,ag in next,ad.particles do ag.frame:Destroy()end;ad.particles={}end end end;function a.CreateKeybindViewer(ad,ae)local af={}ae=ae or{}if k then local ag={}function ag.SetVisible(ah)end;function ag.IsVisible(ah)return false end;function ag.Toggle(ah)return false end;function ag.SetPosition(ah)end;function ag.GetPosition(ah)return UDim2.new()end;function ag.SetSize(ah)end;function ag.UpdateConfig(ah)end;function ag.Destroy(ah)end;function ag.SetParent(ah)end;function ag.ForceUpdate(ah)end;function ag.SetTitle(ah)end;function ag.GetKeybindCount(ah)return 0 end;return ag end;local ag={Visible=ae.Visible~=false,Position=ae.Position or UDim2.new(0,10,0,100),UpdateInterval=ae.UpdateInterval or 0,ShowToggleStates=ae.ShowToggleStates~=false,ShowOnlyActive=ae.ShowOnlyActive~=false,Draggable=ae.Draggable~=false}local ah=r.KeybindViewer:Clone()ah.Name="KeybindViewer"ah.Position=ag.Position;ah.Visible=ag.Visible;local ai=ah.BorderFrame1.BorderFrame2.BorderFrame3.InnerFrame;local aj=ai.Title;local ak=ai.Container;local al=ak:FindFirstChild"ListLayout"if ag.Draggable and makedraggable then makedraggable(ai,ah)end;local am={}local an=0;local ao;local function CreateKeybindEntry(ap,aq,ar,as,at)local au=Instance.new"Frame"au.Name="KeybindEntry_"..ap;au.Size=UDim2.new(1,10,0,14)au.BackgroundTransparency=1;au.Parent=ak;au.ZIndex=ai.ZIndex+2;local av="["..aq.."] "if at=="Toggle"and as=="Hold"then av=av.."[Hold] "..ap elseif at=="Toggle"then av=av.."[Toggle] "..ap elseif at=="Button"then av=av.."[Button] "..ap else av=av..ap end;local aw=Instance.new"TextLabel"aw.Name="KeybindLabel"aw.Size=UDim2.new(1,-4,1,0)aw.Position=UDim2.new(0,2,0,0)aw.BackgroundTransparency=1;aw.Text=av;local ax=a.ColorTable and#a.ColorTable>0 and a.ColorTable[1].BackgroundColor3 or Color3.fromRGB(0,162,255)aw.TextColor3=ar and ax or Color3.fromRGB(200,200,200)aw.TextScaled=true;aw.TextSize=11;aw.Font=Enum.Font.SourceSans;aw.TextXAlignment=Enum.TextXAlignment.Left;aw.TextYAlignment=Enum.TextYAlignment.Center;aw.TextTruncate=Enum.TextTruncate.AtEnd;aw.Parent=au;aw.ZIndex=au.ZIndex+1;local ay=Instance.new"UITextSizeConstraint"ay.MaxTextSize=12;ay.MinTextSize=8;ay.Parent=aw;if ar then table.insert(a.ColorTable,aw)end;return{Entry=au,KeybindLabel=aw,IsActive=ar,ElementType=at,Mode=as,Keybind=aq}end;local function UpdateKeybindEntry(ap,aq,ar,as,at,au)ap.IsActive=as;ap.ElementType=au;ap.Mode=at;ap.Keybind=ar;local av="["..ar.."] "if au=="Toggle"and at=="Hold"then av=av.."[Hold] "..aq elseif au=="Toggle"then av=av.."[Toggle] "..aq elseif au=="Button"then av=av.."[Button] "..aq else av=av..aq end;ap.KeybindLabel.Text=av;local aw=a.ColorTable and#a.ColorTable>0 and a.ColorTable[1].BackgroundColor3 or Color3.fromRGB(0,162,255)ap.KeybindLabel.TextColor3=as and aw or Color3.fromRGB(200,200,200)local ax=false;for ay,az in ipairs(a.ColorTable)do if az==ap.KeybindLabel then ax=true;if not as then table.remove(a.ColorTable,ay)end;break end end;if as and not ax then table.insert(a.ColorTable,ap.KeybindLabel)end end;local function RefreshKeybindColors()local ap=a.ColorTable and#a.ColorTable>0 and a.ColorTable[1].BackgroundColor3 or Color3.fromRGB(0,162,255)for aq,ar in pairs(am)do if ar and ar.KeybindLabel then ar.KeybindLabel.TextColor3=ar.IsActive and ap or Color3.fromRGB(200,200,200)end end end;local function UpdateKeybindEntries()local ap={}if d.Anka and d.Anka.Elements then for aq,ar in pairs(d.Anka.Elements)do if ar and ar.GetKeybind then local as=ar:GetKeybind()if as and as.GetBind then local at=as:GetBind()local au=tostring(at):gsub("Enum.KeyCode.","")if au~="NONE"and au~="Unknown"then local av=aq:gsub(" %- %d+","")local aw=false;local ax="Toggle"local ay=ar.Type or"Toggle"if ay=="Toggle"and ar.GetState then aw=ar:GetState()elseif ay=="Button"then aw=nil end;if as.GetMode then ax=as:GetMode()elseif as.Mode then ax=as.Mode elseif as.mode then ax=as.mode end;if not ag.ShowOnlyActive or aw or ax=="Hold"or ay=="Button"then ap[av]={name=av,keybind=au,state=aw,mode=ax,elementType=ay}end end end end end end;for aq,ar in pairs(am)do if not ap[aq]then for as=#a.ColorTable,1,-1 do if a.ColorTable[as]==ar.KeybindLabel then table.remove(a.ColorTable,as)break end end;ar.Entry:Destroy()am[aq]=nil end end;for aq,ar in pairs(ap)do if am[aq]then local as=am[aq]if as.IsActive~=ar.state or as.ElementType~=ar.elementType or as.Mode~=ar.mode or as.Keybind~=ar.keybind then UpdateKeybindEntry(as,ar.name,ar.keybind,ar.state,ar.mode,ar.elementType)end else local as=CreateKeybindEntry(ar.name,ar.keybind,ar.state,ar.mode,ar.elementType)am[aq]=as end end;local aq={}for ar in pairs(am)do table.insert(aq,ar)end;table.sort(aq)for ar,as in ipairs(aq)do if am[as]and am[as].Entry then am[as].Entry.LayoutOrder=ar end end;task.wait()local ar=math.max(al.AbsoluteContentSize.Y+10,10)local as=200;local at=math.min(ar,as)local au=0;for av in pairs(am)do au=au+1 end;if au==0 then at=10 end;if ak.ClassName=="ScrollingFrame"then ak.Size=UDim2.new(1,-10,0,at)ak.CanvasSize=UDim2.new(0,0,0,ar)else ak.Size=UDim2.new(1,-10,0,at)end;local av=at+25;ah.Size=UDim2.new(0,200,0,av)end;local function StartUpdating()if ao then ao:Disconnect()end;ao=j.PreRender:Connect(function()local ap=tick()if ap-an>=ag.UpdateInterval then an=ap;if ah.Visible then UpdateKeybindEntries()RefreshKeybindColors()end end end)table.insert(a.Connections,ao)end;function af.SetVisible(ap,aq)ah.Visible=aq;if aq then RefreshKeybindColors()UpdateKeybindEntries()end end;function af.IsVisible(ap)return ah.Visible end;function af.Toggle(ap)ap:SetVisible(not ah.Visible)return ah.Visible end;function af.SetPosition(ap,aq)ah.Position=aq end;function af.GetPosition(ap)return ah.Position end;function af.SetSize(ap,aq)ah.Size=aq end;function af.UpdateConfig(ap,aq)for ar,as in pairs(aq)do ag[ar]=as end;RefreshKeybindColors()UpdateKeybindEntries()end;function af.SetParent(ap,aq)ah.Parent=aq end;function af.ForceUpdate(ap)RefreshKeybindColors()UpdateKeybindEntries()end;function af.SetTitle(ap,aq)aj.Text=aq end;function af.GetKeybindCount(ap)local aq=0;for ar in pairs(am)do aq=aq+1 end;return aq end;ah.Parent=s;table.insert(a.ColorTable,ah.BorderFrame1.BorderFrame2.BorderFrame3.InnerFrame.GradientFrame)StartUpdating()task.wait(0.1)UpdateKeybindEntries()return af end;function a.CreateToggleList(ad,ae)local af={}ae=ae or{}if k then local ag={}function ag.SetVisible(ah)end;function ag.IsVisible(ah)return false end;function ag.Toggle(ah)return false end;function ag.SetPosition(ah)end;function ag.GetPosition(ah)return UDim2.new()end;function ag.SetSize(ah)end;function ag.UpdateConfig(ah)end;function ag.Destroy(ah)end;function ag.SetParent(ah)end;function ag.ForceUpdate(ah)end;function ag.SetTitle(ah)end;function ag.GetEnabledCount(ah)return 0 end;return ag end;local ag={Visible=ae.Visible~=false,Position=ae.Position or UDim2.new(0,220,0,100),UpdateInterval=ae.UpdateInterval or 0,ShowOnlyEnabled=ae.ShowOnlyEnabled~=false,ShowStatus=ae.ShowStatus~=false,Draggable=ae.Draggable~=false,Title=ae.Title or"Enabled Toggles"}local ah=r.KeybindViewer:Clone()ah.Name="ToggleList"ah.Position=ag.Position;ah.Visible=ag.Visible;local ai=ah.BorderFrame1.BorderFrame2.BorderFrame3.InnerFrame;local aj=ai.Title;local ak=ai.Container;aj.Text=ag.Title;local al=ak:FindFirstChild"ListLayout"if ag.Draggable and makedraggable then makedraggable(ai,ah)end;local am={}local an=0;local ao;local function CreateToggleEntry(ap,aq,ar)local as=Instance.new"Frame"as.Name="ToggleEntry_"..ap;as.Size=UDim2.new(1,-10,0,14)as.BackgroundTransparency=1;as.Parent=ak;as.ZIndex=ai.ZIndex+2;local at=ap;local au=Instance.new"TextLabel"au.Name="ToggleLabel"au.Size=UDim2.new(1,-4,1,0)au.Position=UDim2.new(0,2,0,0)au.BackgroundTransparency=1;au.Text=at;local av=Color3.fromRGB(200,200,200)if ar=="dangerous"then av=Color3.fromRGB(255,85,85)elseif ar=="buggy"then av=Color3.fromRGB(255,200,0)else local aw=ae.Color or(a.ColorTable and#a.ColorTable>0 and a.ColorTable[1].BackgroundColor3)or Color3.fromRGB(0,162,255)av=aq and aw or Color3.fromRGB(200,200,200)end;au.TextColor3=av;au.TextScaled=true;au.TextSize=11;au.Font=Enum.Font.SourceSans;au.TextXAlignment=Enum.TextXAlignment.Left;au.TextYAlignment=Enum.TextYAlignment.Center;au.TextTruncate=Enum.TextTruncate.AtEnd;au.Parent=as;au.ZIndex=as.ZIndex+1;local aw=Instance.new"UITextSizeConstraint"aw.MaxTextSize=12;aw.MinTextSize=8;aw.Parent=au;if aq and ar=="normal"then table.insert(a.ColorTable,au)end;return{Entry=as,ToggleLabel=au,IsEnabled=aq,Status=ar,Name=ap}end;local function UpdateToggleEntry(ap,aq,ar,as)ap.IsEnabled=ar;ap.Status=as;ap.Name=aq;ap.ToggleLabel.Text=aq;local at=Color3.fromRGB(200,200,200)if as=="dangerous"then at=Color3.fromRGB(255,85,85)elseif as=="buggy"then at=Color3.fromRGB(255,200,0)else local au=ae.Color or(a.ColorTable and#a.ColorTable>0 and a.ColorTable[1].BackgroundColor3)or Color3.fromRGB(0,162,255)at=ar and au or Color3.fromRGB(200,200,200)end;ap.ToggleLabel.TextColor3=at;local au=false;for av,aw in ipairs(a.ColorTable)do if aw==ap.ToggleLabel then au=true;if not ar or as~="normal"then table.remove(a.ColorTable,av)end;break end end;if ar and as=="normal"and not au then table.insert(a.ColorTable,ap.ToggleLabel)end end;local function RefreshToggleColors()for ap,aq in pairs(am)do if aq and aq.ToggleLabel then local ar=Color3.fromRGB(200,200,200)if aq.Status=="dangerous"then ar=Color3.fromRGB(255,85,85)elseif aq.Status=="buggy"then ar=Color3.fromRGB(255,200,0)else local as=ae.Color or(a.ColorTable and#a.ColorTable>0 and a.ColorTable[1].BackgroundColor3)or Color3.fromRGB(0,162,255)ar=aq.IsEnabled and as or Color3.fromRGB(200,200,200)end;aq.ToggleLabel.TextColor3=ar end end end;local function UpdateToggleEntries()local ap={}if d.Anka and d.Anka.Elements then for aq,ar in pairs(d.Anka.Elements)do if ar and ar.Type=="Toggle"and ar.GetState then local as=aq:gsub(" %- %d+","")local at=ar:GetState()if at or not ag.ShowOnlyEnabled then local au="normal"if ar.GetStatus then au=ar:GetStatus()or"normal"end;ap[as]={name=as,state=at,status=au}end end end end;for aq,ar in pairs(am)do if not ap[aq]then for as=#a.ColorTable,1,-1 do if a.ColorTable[as]==ar.ToggleLabel then table.remove(a.ColorTable,as)break end end;ar.Entry:Destroy()am[aq]=nil end end;for aq,ar in pairs(ap)do if am[aq]then local as=am[aq]if as.IsEnabled~=ar.state or as.Status~=ar.status then UpdateToggleEntry(as,ar.name,ar.state,ar.status)end else local as=CreateToggleEntry(ar.name,ar.state,ar.status)am[aq]=as end end;local aq={}for ar in pairs(am)do table.insert(aq,ar)end;table.sort(aq)for ar,as in ipairs(aq)do if am[as]and am[as].Entry then am[as].Entry.LayoutOrder=ar end end;task.wait()local ar=math.max(al.AbsoluteContentSize.Y+10,10)local as=200;local at=math.min(ar,as)local au=0;for av in pairs(am)do au=au+1 end;if au==0 then at=10 end;if ak.ClassName=="ScrollingFrame"then ak.Size=UDim2.new(1,-10,0,at)ak.CanvasSize=UDim2.new(0,0,0,ar)else ak.Size=UDim2.new(1,-10,0,at)end;local av=at+25;ah.Size=UDim2.new(0,200,0,av)end;local function StartUpdating()if ao then ao:Disconnect()end;ao=j.PreRender:Connect(function()local ap=tick()if ap-an>=ag.UpdateInterval then an=ap;if ah.Visible then UpdateToggleEntries()RefreshToggleColors()end end end)table.insert(a.Connections,ao)end;function af.SetVisible(ap,aq)ah.Visible=aq;if aq then RefreshToggleColors()UpdateToggleEntries()end end;function af.IsVisible(ap)return ah.Visible end;function af.Toggle(ap)ap:SetVisible(not ah.Visible)return ah.Visible end;function af.SetPosition(ap,aq)ah.Position=aq end;function af.GetPosition(ap)return ah.Position end;function af.ForceUpdate(ap)RefreshToggleColors()UpdateToggleEntries()end;function af.SetTitle(ap,aq)aj.Text=aq;ag.Title=aq end;function af.GetEnabledCount(ap)local aq=0;if d.Anka and d.Anka.Elements then for ar,as in pairs(d.Anka.Elements)do if as and as.Type=="Toggle"and as.GetState and as:GetState()then aq=aq+1 end end end;return aq end;function af.Destroy(ap)if ao then ao:Disconnect()end;for aq,ar in pairs(am)do for as=#a.ColorTable,1,-1 do if a.ColorTable[as]==ar.ToggleLabel then table.remove(a.ColorTable,as)break end end end;ah:Destroy()end;ah.Parent=s;table.insert(a.ColorTable,ah.BorderFrame1.BorderFrame2.BorderFrame3.InnerFrame.GradientFrame)StartUpdating()task.wait(0.1)UpdateToggleEntries()return af end;function q.CreateGlow(ad,ae,af)af=af or{}if ae then if ad.glowEffect then ad:CreateGlow(false)end;ad.glowEffect=Instance.new"UIStroke"ad.glowEffect.Name="WindowGlow"ad.glowEffect.Color=af.color or o.Color;ad.glowEffect.Thickness=af.thickness or 2;ad.glowEffect.Transparency=af.transparency or 0.5;ad.glowEffect.ApplyStrokeMode=Enum.ApplyStrokeMode.Border;ad.glowEffect.Parent=s.Main;table.insert(a.ColorTable,ad.glowEffect)local ag=af.pulse~=false;local ah=af.pulseSpeed or 2;local ai=af.minTransparency or 0.2;local aj=af.maxTransparency or 0.8;if ag then if not a.Connections.GlowConnection then a.Connections.GlowConnection=j.Heartbeat:Connect(function()if ad.glowEffect and ad.glowEffect.Parent then local ak=math.sin(tick()*ah)local al=ai+(aj-ai)*((ak+1)/2)ad.glowEffect.Transparency=al end end)end end;if af.enhanced then ad.glowFrame=Instance.new"Frame"ad.glowFrame.Name="GlowFrame"ad.glowFrame.Size=UDim2.new(1,af.glowSize or 8,1,af.glowSize or 8)ad.glowFrame.Position=UDim2.new(0,-(af.glowSize or 8)/2,0,-(af.glowSize or 8)/2)ad.glowFrame.BackgroundColor3=af.color or o.Color;ad.glowFrame.BackgroundTransparency=af.frameTransparency or 0.9;ad.glowFrame.BorderSizePixel=0;ad.glowFrame.ZIndex=s.Main.ZIndex-1;ad.glowFrame.Parent=s.Main.Parent;local ak=Instance.new"UICorner"ak.CornerRadius=UDim2.new(0,af.cornerRadius or 8)ak.Parent=ad.glowFrame;table.insert(a.ColorTable,ad.glowFrame)end else if a.Connections.GlowConnection then a.Connections.GlowConnection:Disconnect()a.Connections.GlowConnection=nil end;if ad.glowEffect then for ag,ah in next,a.ColorTable do if ah==ad.glowEffect then table.remove(a.ColorTable,ag)break end end;ad.glowEffect:Destroy()ad.glowEffect=nil end;if ad.glowFrame then for ag,ah in next,a.ColorTable do if ah==ad.glowFrame then table.remove(a.ColorTable,ag)break end end;ad.glowFrame:Destroy()ad.glowFrame=nil end end end;local ad=#a.Windows+1;a.Windows[ad]=q;q._id=ad;function q.Destroy(ae)if ae._id then a.Windows[ae._id]=nil end;ae:CreateGlow(false)if ae.particles then for af,ag in next,ae.particles do if ag.frame then ag.frame:Destroy()end end;ae.particles={}end;if ae.particlesFrame then ae.particlesFrame:Destroy()ae.particlesFrame=nil end;if ae.ReopenButton then ae.ReopenButton:Destroy()ae.ReopenButton=nil end;for af=#a.ColorTable,1,-1 do local ag=a.ColorTable[af]if ag and(ag==s or(ag.IsDescendantOf and ag:IsDescendantOf(s)))then table.remove(a.ColorTable,af)end end;if s then s:Destroy()end end;return q end;function a.Destroy(aa)for ab,ac in pairs(a.Windows)do if ac and type(ac.Destroy)=="function"then pcall(function()ac:Destroy()end)end end;a.Windows={}if l and l.Parent then l:Destroy()end;if m then if type(m.Destroy)=="function"then pcall(function()m:Destroy()end)elseif m.Container and m.Container.Parent then m.Container:Destroy()end end;if d.Anka and d.Anka.Elements then local ab=0;for ac,ad in pairs(d.Anka.Elements)do if ad and type(ad.Destroy)=="function"then pcall(function()ad:Destroy()end)ab=ab+1 end end;d.Anka.Elements={}end;if a.Connections then local ab=0;for ac,ad in pairs(a.Connections)do if ad and type(ad.Disconnect)=="function"then pcall(function()ad:Disconnect()end)ab=ab+1 end end;a.Connections={}end;local ab=0;local function cleanupTable(ac)if not ac then return end;for ad,ae in pairs(ac)do if type(ae)=="table"then cleanupTable(ae)elseif typeof(ae)=="RBXScriptConnection"then pcall(function()ae:Disconnect()end)ab=ab+1 elseif type(ae)=="function"and ae.Disconnect then pcall(function()ae:Disconnect()end)ab=ab+1 end end end;cleanupTable(a.flags)cleanupTable(d.Anka and d.Anka.flags)a.ColorTable={}if d.Anka then d.Anka.ElementCounter=0;d.Anka.flags={}end;a.tick=nil;a.flags={}end;return a
